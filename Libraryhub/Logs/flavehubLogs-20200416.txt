2020-04-16T04:56:56.3877834+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T04:57:03.5257653+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T04:57:03.5322112+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T04:57:03.7601371+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T05:14:36.5960397+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T05:14:38.4867467+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T05:14:38.4933218+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T05:14:38.6767434+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T05:14:49.1660321+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T05:15:28.9919314+01:00  [ERR] Failed executing DbCommand ("42,378"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (627a98df)
2020-04-16T05:15:32.6084046+01:00  [ERR] An exception occurred while iterating over the results of a query for context type '"Libraryhub.Data.DataContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.AsyncQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c4c25af5-b715-4d4a-8494-51c52b5eefd8
Error Number:-2,State:0,Class:11" (f5c7ac34)
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.AsyncQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c4c25af5-b715-4d4a-8494-51c52b5eefd8
Error Number:-2,State:0,Class:11
2020-04-16T05:16:53.5088753+01:00  [FTL] Application startup exception (6c57a5ba)
System.AggregateException: One or more errors occurred. (Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.)
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.AsyncQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.RoleManager`1.RoleExistsAsync(String roleName)
   at Libraryhub.Startup.CreateRolesAndAdminUser(IServiceProvider serviceProvider) in C:\Apps\Libraryhub\Libraryhub\Startup.cs:line 102
ClientConnectionId:c4c25af5-b715-4d4a-8494-51c52b5eefd8
Error Number:-2,State:0,Class:11
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait()
   at Libraryhub.Startup.Configure(IApplicationBuilder app, IWebHostEnvironment env, ILoggerFactory loggerFactory, IServiceProvider serviceProvider) in C:\Apps\Libraryhub\Libraryhub\Startup.cs:line 81
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.Invoke(Object instance, IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.<>c__DisplayClass4_0.<Build>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.ConventionBasedStartup.Configure(IApplicationBuilder app)
   at Microsoft.AspNetCore.Mvc.Filters.MiddlewareFilterBuilderStartupFilter.<>c__DisplayClass0_0.<Configure>g__MiddlewareFilterBuilder|0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Server.IIS.Core.IISServerSetupFilter.<>c__DisplayClass2_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.WebHost.BuildApplication()
2020-04-16T05:19:57.8637852+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T05:20:02.8134678+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T05:20:05.3899381+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T05:20:05.7898095+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T05:20:11.7340852+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T05:20:19.8038907+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T05:20:19.9352376+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-16T05:20:21.5627966+01:00  [INF] Queued Hosted Service is starting. (cb05eba7)
2020-04-16T05:20:24.4393618+01:00 80000079-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/   (ca22a1cb)
2020-04-16T05:20:27.6914825+01:00 80000079-0001-fe00-b63f-84710c7967bb [INF] Request finished in 3346.7110000000002ms 404  (791a596a)
2020-04-16T05:21:35.4904397+01:00 800000c6-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T05:21:36.6729456+01:00 800000c6-0000-ff00-b63f-84710c7967bb [INF] Request finished in 1159.4709ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T05:21:45.5416179+01:00 800000c8-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/v1/swagger.json   (ca22a1cb)
2020-04-16T05:21:49.6487915+01:00 800000c8-0000-ff00-b63f-84710c7967bb [INF] Request finished in 5222.2914ms 200 application/json;charset=utf-8 (791a596a)
2020-04-16T05:22:08.9072716+01:00 800000ca-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/api/v1/book/LoadAllBooks   (ca22a1cb)
2020-04-16T05:22:08.9329288+01:00 800000ca-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (500cc934)
2020-04-16T05:22:09.1469224+01:00 800000ca-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllPost\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IList`1[Libraryhub.Contracts.RequestObjs.BookResponseObj]]] GetAllPostAsync()" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T05:22:10.6576552+01:00 800000ca-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T05:22:10.9963697+01:00 800000ca-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title], [b0].[CheckOutActivityId], [b0].[BookId], [b0].[CheckOutDate], [b0].[Email], [b0].[ExpectedReturnDate], [b0].[FullName], [b0].[NationalIdentificationNumber], [b0].[PhoneNumber], [b0].[ReturnDate], [b0].[Status], [b0].[UserId]
FROM [Books] AS [b]
LEFT JOIN [BookActivities] AS [b0] ON [b].[BookId] = [b0].[BookId]
ORDER BY [b].[BookId], [b0].[CheckOutActivityId]" (65d11854)
2020-04-16T05:22:18.1259653+01:00 800000ca-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Libraryhub.Contracts.RequestObjs.BookResponseObj, Libraryhub.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2020-04-16T05:22:18.2968107+01:00 800000ca-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)" in 9114.187100000001ms (afa2e885)
2020-04-16T05:22:18.3085123+01:00 800000ca-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (99874f2b)
2020-04-16T05:22:18.3656226+01:00 800000ca-0000-ff00-b63f-84710c7967bb [INF] Request finished in 10152.8754ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T06:07:53.2518688+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T06:08:04.5764425+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T06:08:04.6880895+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T06:08:04.8814082+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T06:08:11.8042970+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T06:08:12.2120115+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T06:08:12.2835357+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-16T06:08:12.5845234+01:00  [INF] Queued Hosted Service is starting. (cb05eba7)
2020-04-16T06:08:13.0233817+01:00 800000b0-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T06:08:13.0343582+01:00 800000ae-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/   (ca22a1cb)
2020-04-16T06:08:13.5275031+01:00 800000b0-0000-fe00-b63f-84710c7967bb [INF] Request finished in 765.4738ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T06:08:13.6610579+01:00 800000ae-0000-fe00-b63f-84710c7967bb [INF] Request finished in 827.7148000000001ms 0  (791a596a)
2020-04-16T06:08:19.4172976+01:00 800000b2-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/v1/swagger.json   (ca22a1cb)
2020-04-16T06:08:19.8570535+01:00 800000b2-0000-fe00-b63f-84710c7967bb [INF] Request finished in 965.8742000000001ms 200 application/json;charset=utf-8 (791a596a)
2020-04-16T06:09:51.7533526+01:00 800000b4-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 PUT https://localhost:44382/api/v1/reminder/Switch?Switch=1  0 (ca22a1cb)
2020-04-16T06:09:51.7749540+01:00 800000b4-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (500cc934)
2020-04-16T06:09:52.2796240+01:00 800000b4-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckoutReminder\", controller = \"ApplicationSetting\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.EmailResponseObj] CheckoutReminder(Int32)" on controller "Libraryhub.Controllers.V1.ApplicationSettingController" ("Libraryhub"). (122b2fdf)
2020-04-16T06:09:52.7431481+01:00 800000b4-0000-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)" in 52.8739ms (afa2e885)
2020-04-16T06:09:53.1980932+01:00 800000b4-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (99874f2b)
2020-04-16T06:09:58.9743807+01:00 800000b4-0000-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'Libraryhub.Controllers.V1.ApplicationSettingController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T06:09:59.1929625+01:00 800000b4-0000-fe00-b63f-84710c7967bb [INF] Request finished in 8815.942000000001ms 404  (791a596a)
2020-04-16T06:14:45.5918891+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T06:14:53.0750208+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T06:14:53.1241174+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T06:14:53.2800704+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T06:14:59.9908355+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T06:15:01.7509053+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T06:15:01.8140892+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-16T06:15:02.1124533+01:00  [INF] Queued Hosted Service is starting. (cb05eba7)
2020-04-16T06:15:02.8401536+01:00 8000006b-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/   (ca22a1cb)
2020-04-16T06:15:02.8401536+01:00 8000006d-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T06:15:03.2345673+01:00 8000006b-0001-fc00-b63f-84710c7967bb [INF] Request finished in 453.0602ms 0  (791a596a)
2020-04-16T06:15:03.2880604+01:00 8000006d-0001-fc00-b63f-84710c7967bb [INF] Request finished in 503.8167ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T06:15:04.1889490+01:00 8000006f-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/v1/swagger.json   (ca22a1cb)
2020-04-16T06:15:06.3488678+01:00 8000006f-0001-fc00-b63f-84710c7967bb [INF] Request finished in 2163.9312ms 200 application/json;charset=utf-8 (791a596a)
2020-04-16T06:15:17.4888213+01:00 800000b6-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 PUT https://localhost:44382/api/v1/reminder/Switch?Switch=1  0 (ca22a1cb)
2020-04-16T06:15:17.5196195+01:00 800000b6-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (500cc934)
2020-04-16T06:15:17.6561204+01:00 800000b6-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckoutReminder\", controller = \"ApplicationSetting\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.EmailResponseObj] CheckoutReminder(Int32)" on controller "Libraryhub.Controllers.V1.ApplicationSettingController" ("Libraryhub"). (122b2fdf)
2020-04-16T06:15:17.6939223+01:00 800000b6-0000-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)" in 11.6152ms (afa2e885)
2020-04-16T06:15:17.7068955+01:00 800000b6-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (99874f2b)
2020-04-16T06:15:17.8448440+01:00 800000b6-0000-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'Libraryhub.Controllers.V1.ApplicationSettingController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T06:15:17.8873045+01:00 800000b6-0000-fe00-b63f-84710c7967bb [INF] Request finished in 419.64730000000003ms 404  (791a596a)
2020-04-16T06:18:48.3104483+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T06:18:55.3631917+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T06:18:55.3729044+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T06:18:55.5233474+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T06:19:02.9349987+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T06:19:04.1866076+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T06:19:04.2683102+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-16T06:19:05.8811035+01:00  [INF] Queued Hosted Service is starting. (cb05eba7)
2020-04-16T06:19:09.4431629+01:00 80000071-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/   (ca22a1cb)
2020-04-16T06:19:09.6476770+01:00 800000b8-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T06:19:11.9859063+01:00 80000071-0001-fc00-b63f-84710c7967bb [INF] Request finished in 3235.2884000000004ms 0  (791a596a)
2020-04-16T06:19:12.9662051+01:00 800000b8-0000-fe00-b63f-84710c7967bb [INF] Request finished in 3237.46ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T06:19:13.3080061+01:00 80000073-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/v1/swagger.json   (ca22a1cb)
2020-04-16T06:19:15.4842910+01:00 80000073-0001-fc00-b63f-84710c7967bb [INF] Request finished in 637.1775ms 200 application/json;charset=utf-8 (791a596a)
2020-04-16T06:19:30.7619719+01:00 800000ba-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/api/v1/book/LoadAllBooks   (ca22a1cb)
2020-04-16T06:19:31.0222252+01:00 800000ba-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (500cc934)
2020-04-16T06:19:33.4160697+01:00 800000ba-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllPost\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IList`1[Libraryhub.Contracts.RequestObjs.BookResponseObj]]] GetAllPostAsync()" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T06:19:44.2609477+01:00 800000ba-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T06:19:45.9024082+01:00 800000ba-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title], [b0].[CheckOutActivityId], [b0].[BookId], [b0].[CheckOutDate], [b0].[Email], [b0].[ExpectedReturnDate], [b0].[FullName], [b0].[NationalIdentificationNumber], [b0].[PhoneNumber], [b0].[ReturnDate], [b0].[Status], [b0].[UserId]
FROM [Books] AS [b]
LEFT JOIN [BookActivities] AS [b0] ON [b].[BookId] = [b0].[BookId]
ORDER BY [b].[BookId], [b0].[CheckOutActivityId]" (65d11854)
2020-04-16T06:19:53.4879084+01:00 800000ba-0000-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Libraryhub.Contracts.RequestObjs.BookResponseObj, Libraryhub.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2020-04-16T06:19:54.5452883+01:00 800000ba-0000-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)" in 20195.6312ms (afa2e885)
2020-04-16T06:19:54.8776906+01:00 800000ba-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (99874f2b)
2020-04-16T06:19:57.1506204+01:00 800000ba-0000-fe00-b63f-84710c7967bb [INF] Request finished in 24556.2092ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T06:20:12.2294684+01:00 80000075-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 PUT https://localhost:44382/api/v1/reminder/Switch?Switch=1  0 (ca22a1cb)
2020-04-16T06:20:12.3477804+01:00 80000075-0001-fc00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (500cc934)
2020-04-16T06:20:12.4303352+01:00 80000075-0001-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckoutReminder\", controller = \"ApplicationSetting\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.EmailResponseObj] CheckoutReminder(Int32)" on controller "Libraryhub.Controllers.V1.ApplicationSettingController" ("Libraryhub"). (122b2fdf)
2020-04-16T06:20:12.4457002+01:00 80000075-0001-fc00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)" in 4.5741000000000005ms (afa2e885)
2020-04-16T06:20:12.4550552+01:00 80000075-0001-fc00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (99874f2b)
2020-04-16T06:20:14.8470790+01:00 80000075-0001-fc00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'Libraryhub.Controllers.V1.ApplicationSettingController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T06:20:15.0065887+01:00 80000075-0001-fc00-b63f-84710c7967bb [INF] Request finished in 2742.2882ms 404  (791a596a)
2020-04-16T06:26:29.3417838+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T06:26:32.0152434+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T06:26:32.0222994+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T06:26:32.3766192+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T06:26:39.9303350+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T06:26:43.6139836+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T06:26:45.2697862+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-16T06:26:46.7337483+01:00  [INF] Queued Hosted Service is starting. (cb05eba7)
2020-04-16T06:26:47.0569085+01:00 800000cc-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T06:26:47.1106483+01:00 8000007e-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/   (ca22a1cb)
2020-04-16T06:26:48.0803703+01:00 800000cc-0000-ff00-b63f-84710c7967bb [INF] Request finished in 982.9853ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T06:26:48.1905870+01:00 8000007e-0001-fe00-b63f-84710c7967bb [INF] Request finished in 1176.5ms 0  (791a596a)
2020-04-16T06:26:50.8187431+01:00 80000080-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/v1/swagger.json   (ca22a1cb)
2020-04-16T06:26:56.1907236+01:00 80000080-0001-fe00-b63f-84710c7967bb [INF] Request finished in 5264.325ms 200 application/json;charset=utf-8 (791a596a)
2020-04-16T06:27:12.0353314+01:00 80000082-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 PUT https://localhost:44382/api/v1/reminder/Switch?Switch=1  0 (ca22a1cb)
2020-04-16T06:27:12.0876646+01:00 80000082-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (500cc934)
2020-04-16T06:27:12.3058741+01:00 80000082-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckoutReminder\", controller = \"ApplicationSetting\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.EmailResponseObj] CheckoutReminder(Int32)" on controller "Libraryhub.Controllers.V1.ApplicationSettingController" ("Libraryhub"). (122b2fdf)
2020-04-16T06:31:15.7751126+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T06:31:19.8919812+01:00  [INF] Executing DbCommand [Parameters=["@__status_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[CheckOutActivityId], [b].[BookId], [b].[CheckOutDate], [b].[Email], [b].[ExpectedReturnDate], [b].[FullName], [b].[NationalIdentificationNumber], [b].[PhoneNumber], [b].[ReturnDate], [b].[Status], [b].[UserId]
FROM [BookActivities] AS [b]
WHERE ([b].[Status] = @__status_0) AND @__status_0 IS NOT NULL" (65d11854)
2020-04-16T06:31:25.7384989+01:00 80000082-0001-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.EmailResponseObj"'. (8a1b66c8)
2020-04-16T06:31:26.6167995+01:00 80000082-0001-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)" in 253509.42560000002ms (afa2e885)
2020-04-16T06:31:26.6326684+01:00  [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T06:31:26.6455538+01:00 80000082-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (99874f2b)
2020-04-16T06:31:26.7332987+01:00 80000082-0001-fe00-b63f-84710c7967bb [INF] Request finished in 254681.7237ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T06:31:27.8817124+01:00  [ERR] Failed executing DbCommand ("1,298"ms) [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (627a98df)
2020-04-16T06:31:30.3646858+01:00  [ERR] An exception occurred while iterating over the results of a query for context type '"Libraryhub.Data.DataContext"'."
""System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.AsyncQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" (f5c7ac34)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.AsyncQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-04-16T06:31:32.3025255+01:00  [ERR] An error occurred trying to send  Email. Error: "Invalid operation. The connection is closed." (6720f147)
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.AsyncQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Libraryhub.Service.ServiceImplementation.BookService.GetBookByIdAsync(Int32 bookId) in C:\Apps\Libraryhub\Libraryhub\Service\ServiceImplementation\BookService.cs:line 35
   at Libraryhub.Service.ServiceImplementation.AppSettingService.<CheckoutReminder>b__11_0(CancellationToken token) in C:\Apps\Libraryhub\Libraryhub\Service\ServiceImplementation\AppSettingService.cs:line 61
2020-04-16T06:31:39.6495136+01:00  [ERR] An error occurred trying to send  Email. Error: "Cannot access a disposed object. A common cause of this error is disposing a context that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling Dispose() on the context, or wrapping the context in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'DataContext'." (6720f147)
System.ObjectDisposedException: Cannot access a disposed object. A common cause of this error is disposing a context that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling Dispose() on the context, or wrapping the context in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'DataContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_ChangeTracker()
   at Microsoft.EntityFrameworkCore.Query.CompiledQueryCacheKeyGenerator.GenerateCacheKeyCore(Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.RelationalCompiledQueryCacheKeyGenerator.GenerateCacheKeyCore(Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerCompiledQueryCacheKeyGenerator.GenerateCacheKey(Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Libraryhub.Service.ServiceImplementation.BookService.GetCheckoutActivitiesByStatus(Int32 status) in C:\Apps\Libraryhub\Libraryhub\Service\ServiceImplementation\BookService.cs:line 125
   at Libraryhub.Service.ServiceImplementation.AppSettingService.<CheckoutReminder>b__11_0(CancellationToken token) in C:\Apps\Libraryhub\Libraryhub\Service\ServiceImplementation\AppSettingService.cs:line 57
2020-04-16T06:31:45.0648201+01:00  [ERR] An error occurred trying to send  Email. Error: "Cannot access a disposed object. A common cause of this error is disposing a context that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling Dispose() on the context, or wrapping the context in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'DataContext'." (6720f147)
System.ObjectDisposedException: Cannot access a disposed object. A common cause of this error is disposing a context that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling Dispose() on the context, or wrapping the context in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'DataContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_ChangeTracker()
   at Microsoft.EntityFrameworkCore.Query.CompiledQueryCacheKeyGenerator.GenerateCacheKeyCore(Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.RelationalCompiledQueryCacheKeyGenerator.GenerateCacheKeyCore(Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerCompiledQueryCacheKeyGenerator.GenerateCacheKey(Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Libraryhub.Service.ServiceImplementation.BookService.GetCheckoutActivitiesByStatus(Int32 status) in C:\Apps\Libraryhub\Libraryhub\Service\ServiceImplementation\BookService.cs:line 125
   at Libraryhub.Service.ServiceImplementation.AppSettingService.<CheckoutReminder>b__11_0(CancellationToken token) in C:\Apps\Libraryhub\Libraryhub\Service\ServiceImplementation\AppSettingService.cs:line 57
2020-04-16T06:31:50.1279158+01:00  [INF] Queued Background Task "96b29115-d5d1-4769-a1f0-2a30d286bc40" is complete. 3/3 (5da73653)
2020-04-16T06:50:40.9829067+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T06:50:46.8428482+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T06:50:46.8484132+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T06:50:47.0675604+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T06:50:52.9936840+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T06:50:53.9486124+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T06:50:54.1561593+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-16T06:50:55.8444455+01:00  [INF] Queued Hosted Service is starting. (cb05eba7)
2020-04-16T06:50:57.4343263+01:00 80000079-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T06:50:57.4330872+01:00 80000077-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/   (ca22a1cb)
2020-04-16T06:50:58.6986150+01:00 80000079-0001-fc00-b63f-84710c7967bb [INF] Request finished in 2015.4378000000002ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T06:50:59.8828824+01:00 80000077-0001-fc00-b63f-84710c7967bb [INF] Request finished in 2961.7931000000003ms 0  (791a596a)
2020-04-16T06:50:59.8867764+01:00 800000bd-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/v1/swagger.json   (ca22a1cb)
2020-04-16T06:51:04.6010482+01:00 800000bd-0000-fe00-b63f-84710c7967bb [INF] Request finished in 3139.1436000000003ms 200 application/json;charset=utf-8 (791a596a)
2020-04-16T06:51:25.1282530+01:00 800000bf-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 PUT https://localhost:44382/api/v1/reminder/Switch?Switch=1  0 (ca22a1cb)
2020-04-16T06:51:25.7571854+01:00 800000bf-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (500cc934)
2020-04-16T06:51:29.7557780+01:00 800000bf-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckoutReminder\", controller = \"ApplicationSetting\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.EmailResponseObj] CheckoutReminder(Int32)" on controller "Libraryhub.Controllers.V1.ApplicationSettingController" ("Libraryhub"). (122b2fdf)
2020-04-16T07:23:40.6950657+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T07:23:46.9372006+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T07:23:46.9596226+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T07:23:49.0808415+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T07:23:57.0600229+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T07:23:59.2703413+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T07:23:59.3923342+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-16T07:24:00.1282862+01:00  [INF] Queued Hosted Service is starting. (cb05eba7)
2020-04-16T07:24:00.3788697+01:00 800000c1-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/   (ca22a1cb)
2020-04-16T07:24:01.3696332+01:00 800000c1-0000-fe00-b63f-84710c7967bb [INF] Request finished in 1016.431ms 404  (791a596a)
2020-04-16T07:25:10.2948560+01:00 800000c3-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T07:25:10.4268812+01:00 800000c3-0000-fe00-b63f-84710c7967bb [INF] Request finished in 379.1139ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T07:25:11.1627652+01:00 800000c5-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/v1/swagger.json   (ca22a1cb)
2020-04-16T07:25:14.0249152+01:00 800000c5-0000-fe00-b63f-84710c7967bb [INF] Request finished in 2534.3681ms 200 application/json;charset=utf-8 (791a596a)
2020-04-16T07:25:30.8949445+01:00 800000c7-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 PUT https://localhost:44382/api/v1/reminder/Switch?Switch=1  0 (ca22a1cb)
2020-04-16T07:25:30.9446410+01:00 800000c7-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (500cc934)
2020-04-16T07:25:34.9985604+01:00 800000c7-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckoutReminder\", controller = \"ApplicationSetting\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.EmailResponseObj]] CheckoutReminder(Int32)" on controller "Libraryhub.Controllers.V1.ApplicationSettingController" ("Libraryhub"). (122b2fdf)
2020-04-16T07:32:59.1110150+01:00 800000c7-0000-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.EmailResponseObj"'. (8a1b66c8)
2020-04-16T07:32:59.4066276+01:00 800000c7-0000-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)" in 444238.90290000004ms (afa2e885)
2020-04-16T07:32:59.9770683+01:00 800000c7-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (99874f2b)
2020-04-16T07:33:00.6322975+01:00 800000c7-0000-fe00-b63f-84710c7967bb [INF] Request finished in 449996.4475ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T07:33:10.2818427+01:00  [ERR] Error occurred executing "workItem". (0e799fa1)
System.InvalidOperationException: No service for type 'Libraryhub.MailHandler.Service.EmailService' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Libraryhub.Service.ServiceImplementation.AppSettingService.<CheckoutReminder>b__7_0(CancellationToken token) in C:\Apps\Libraryhub\Libraryhub\Service\ServiceImplementation\AppSettingService.cs:line 45
   at Libraryhub.Service.BackgroundTask.QueuedHostedService.ExecuteAsync(CancellationToken cancellationToken) in C:\Apps\Libraryhub\Libraryhub\Service\BackgroundTask\QueuedHostedService.cs:line 31
2020-04-16T07:33:39.5404516+01:00 800000c9-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 PUT https://localhost:44382/api/v1/reminder/Switch?Switch=1  0 (ca22a1cb)
2020-04-16T07:33:40.3133206+01:00 800000c9-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (500cc934)
2020-04-16T07:33:40.3814336+01:00 800000c9-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckoutReminder\", controller = \"ApplicationSetting\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.EmailResponseObj]] CheckoutReminder(Int32)" on controller "Libraryhub.Controllers.V1.ApplicationSettingController" ("Libraryhub"). (122b2fdf)
2020-04-16T07:33:59.1554777+01:00 800000c9-0000-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.EmailResponseObj"'. (8a1b66c8)
2020-04-16T07:35:09.5701847+01:00 800000c9-0000-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)" in 23213.203700000002ms (afa2e885)
2020-04-16T07:35:09.8473211+01:00 800000c9-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (99874f2b)
2020-04-16T07:35:10.0242260+01:00 800000c9-0000-fe00-b63f-84710c7967bb [INF] Request finished in 90976.3959ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T07:36:28.4923734+01:00  [ERR] Error occurred executing "workItem". (0e799fa1)
System.InvalidOperationException: No service for type 'Libraryhub.MailHandler.Service.EmailService' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Libraryhub.Service.ServiceImplementation.AppSettingService.<CheckoutReminder>b__7_0(CancellationToken token) in C:\Apps\Libraryhub\Libraryhub\Service\ServiceImplementation\AppSettingService.cs:line 45
   at Libraryhub.Service.BackgroundTask.QueuedHostedService.ExecuteAsync(CancellationToken cancellationToken) in C:\Apps\Libraryhub\Libraryhub\Service\BackgroundTask\QueuedHostedService.cs:line 31
2020-04-16T07:44:33.1327623+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T07:44:39.5910657+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T07:44:39.5989606+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T07:44:39.7461012+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T07:44:46.2337253+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T07:44:47.5788474+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T07:44:48.9671871+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-16T07:44:51.5489920+01:00  [INF] Queued Hosted Service is starting. (cb05eba7)
2020-04-16T07:44:51.9040219+01:00 80000086-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/   (ca22a1cb)
2020-04-16T07:44:53.0247108+01:00 80000086-0001-fe00-b63f-84710c7967bb [INF] Request finished in 1240.058ms 404  (791a596a)
2020-04-16T07:46:12.2287457+01:00 80000088-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T07:46:13.1173376+01:00 80000088-0001-fe00-b63f-84710c7967bb [INF] Request finished in 948.6459000000001ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T07:46:13.7368773+01:00 8000008a-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/v1/swagger.json   (ca22a1cb)
2020-04-16T07:46:14.5112400+01:00 8000008a-0001-fe00-b63f-84710c7967bb [INF] Request finished in 615.1959ms 200 application/json;charset=utf-8 (791a596a)
2020-04-16T07:46:42.6758682+01:00 8000008c-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 PUT https://localhost:44382/api/v1/reminder/Switch?Switch=1  0 (ca22a1cb)
2020-04-16T07:46:46.1521543+01:00 8000008c-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (500cc934)
2020-04-16T07:46:47.9949646+01:00 8000008c-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckoutReminder\", controller = \"ApplicationSetting\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.EmailResponseObj]] CheckoutReminder(Int32)" on controller "Libraryhub.Controllers.V1.ApplicationSettingController" ("Libraryhub"). (122b2fdf)
2020-04-16T07:49:15.6792043+01:00 8000008c-0001-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.EmailResponseObj"'. (8a1b66c8)
2020-04-16T07:50:13.3722886+01:00 8000008c-0001-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)" in 200842.8112ms (afa2e885)
2020-04-16T07:50:20.3846540+01:00 8000008c-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (99874f2b)
2020-04-16T07:50:42.0602048+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T07:50:52.2080243+01:00  [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[CheckOutActivityId], [b].[BookId], [b].[CheckOutDate], [b].[Email], [b].[ExpectedReturnDate], [b].[FullName], [b].[NationalIdentificationNumber], [b].[PhoneNumber], [b].[ReturnDate], [b].[Status], [b].[UserId]
FROM [BookActivities] AS [b]
WHERE [b].[Status] = 1" (65d11854)
2020-04-16T07:50:52.6448961+01:00 8000008c-0001-fe00-b63f-84710c7967bb [INF] Request finished in 252562.74930000002ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T07:50:54.0769900+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T07:52:07.8030459+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T07:55:55.3761322+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T07:58:24.4991593+01:00  [ERR] An error occurred trying to send  Email. Error: "Object reference not set to an instance of an object." (6720f147)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Libraryhub.MailHandler.Service.EmailService.Send(EmailMessage emailMessage) in C:\Apps\Libraryhub\Libraryhub\MailHandler\Service\EmailService .cs:line 90
   at Libraryhub.Service.ServiceImplementation.AppSettingService.<CheckoutReminder>b__8_0(CancellationToken token) in C:\Apps\Libraryhub\Libraryhub\Service\ServiceImplementation\AppSettingService.cs:line 59
2020-04-16T07:58:30.5996650+01:00  [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[CheckOutActivityId], [b].[BookId], [b].[CheckOutDate], [b].[Email], [b].[ExpectedReturnDate], [b].[FullName], [b].[NationalIdentificationNumber], [b].[PhoneNumber], [b].[ReturnDate], [b].[Status], [b].[UserId]
FROM [BookActivities] AS [b]
WHERE [b].[Status] = 1" (65d11854)
2020-04-16T07:59:39.7308625+01:00  [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[CheckOutActivityId], [b].[BookId], [b].[CheckOutDate], [b].[Email], [b].[ExpectedReturnDate], [b].[FullName], [b].[NationalIdentificationNumber], [b].[PhoneNumber], [b].[ReturnDate], [b].[Status], [b].[UserId]
FROM [BookActivities] AS [b]
WHERE [b].[Status] = 1" (65d11854)
2020-04-16T08:20:11.4787214+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T08:20:18.8505853+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T08:20:18.8882487+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T08:20:19.0941963+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T08:20:26.2690276+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T08:20:27.2764228+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T08:20:28.6528758+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-16T08:20:32.3581052+01:00  [INF] Queued Hosted Service is starting. (cb05eba7)
2020-04-16T08:20:33.9607893+01:00 8000007b-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/   (ca22a1cb)
2020-04-16T08:20:34.0001998+01:00 8000007d-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T08:20:34.4192337+01:00 8000007b-0001-fc00-b63f-84710c7967bb [INF] Request finished in 1302.8351ms 0  (791a596a)
2020-04-16T08:20:34.5294130+01:00 8000007d-0001-fc00-b63f-84710c7967bb [INF] Request finished in 1361.6571000000001ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T08:20:38.4012179+01:00 8000007f-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/v1/swagger.json   (ca22a1cb)
2020-04-16T08:20:42.0816294+01:00 8000007f-0001-fc00-b63f-84710c7967bb [INF] Request finished in 4033.9718000000003ms 200 application/json;charset=utf-8 (791a596a)
2020-04-16T08:20:56.5153911+01:00 80000081-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 PUT https://localhost:44382/api/v1/reminder/Switch?Switch=1  0 (ca22a1cb)
2020-04-16T08:20:56.5398391+01:00 80000081-0001-fc00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (500cc934)
2020-04-16T08:20:56.7002603+01:00 80000081-0001-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckoutReminder\", controller = \"ApplicationSetting\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.EmailResponseObj]] CheckoutReminder(Int32)" on controller "Libraryhub.Controllers.V1.ApplicationSettingController" ("Libraryhub"). (122b2fdf)
2020-04-16T08:22:23.7327262+01:00 80000081-0001-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.EmailResponseObj"'. (8a1b66c8)
2020-04-16T08:22:23.9331467+01:00 80000081-0001-fc00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)" in 87047.6728ms (afa2e885)
2020-04-16T08:22:24.2237905+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T08:22:24.2834549+01:00 80000081-0001-fc00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (99874f2b)
2020-04-16T08:22:24.5541936+01:00  [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[CheckOutActivityId], [b].[BookId], [b].[CheckOutDate], [b].[Email], [b].[ExpectedReturnDate], [b].[FullName], [b].[NationalIdentificationNumber], [b].[PhoneNumber], [b].[ReturnDate], [b].[Status], [b].[UserId]
FROM [BookActivities] AS [b]
WHERE [b].[Status] = 1" (65d11854)
2020-04-16T08:22:24.7175184+01:00 80000081-0001-fc00-b63f-84710c7967bb [INF] Request finished in 87899.9477ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T08:22:25.6301613+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T08:22:31.4265135+01:00 80000083-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 PUT https://localhost:44382/api/v1/reminder/Switch?Switch=1  0 (ca22a1cb)
2020-04-16T08:22:31.5937496+01:00 80000083-0001-fc00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (500cc934)
2020-04-16T08:22:31.6031801+01:00 80000083-0001-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckoutReminder\", controller = \"ApplicationSetting\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.EmailResponseObj]] CheckoutReminder(Int32)" on controller "Libraryhub.Controllers.V1.ApplicationSettingController" ("Libraryhub"). (122b2fdf)
2020-04-16T08:22:51.3355858+01:00 80000083-0001-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.EmailResponseObj"'. (8a1b66c8)
2020-04-16T08:22:51.3505627+01:00 80000083-0001-fc00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)" in 19733.7962ms (afa2e885)
2020-04-16T08:22:51.3668448+01:00 80000083-0001-fc00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (99874f2b)
2020-04-16T08:22:51.3756904+01:00 80000083-0001-fc00-b63f-84710c7967bb [INF] Request finished in 20040.8589ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T08:24:06.4264954+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T08:26:27.9601087+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T08:26:34.7967410+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T08:26:34.8365886+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T08:26:36.5949523+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T08:26:47.4401674+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T08:26:52.9022412+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T08:26:53.2301257+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-16T08:26:54.9626204+01:00  [INF] Queued Hosted Service is starting. (cb05eba7)
2020-04-16T08:27:15.4144332+01:00 800000ce-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/   (ca22a1cb)
2020-04-16T08:27:15.4552969+01:00 800000d0-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T08:27:21.2368827+01:00 800000d0-0000-ff00-b63f-84710c7967bb [INF] Request finished in 7235.778200000001ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T08:27:22.0079140+01:00 800000ce-0000-ff00-b63f-84710c7967bb [INF] Request finished in 7660.762000000001ms 0  (791a596a)
2020-04-16T08:27:23.4196218+01:00 800000d2-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/v1/swagger.json   (ca22a1cb)
2020-04-16T08:27:26.7848388+01:00 800000d2-0000-ff00-b63f-84710c7967bb [INF] Request finished in 4499.9839ms 200 application/json;charset=utf-8 (791a596a)
2020-04-16T08:28:00.4943136+01:00 800000d4-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 PUT https://localhost:44382/api/v1/reminder/Switch?Switch=1  0 (ca22a1cb)
2020-04-16T08:28:00.8135695+01:00 800000d4-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (500cc934)
2020-04-16T08:28:02.1406455+01:00 800000d4-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckoutReminder\", controller = \"ApplicationSetting\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.EmailResponseObj]] CheckoutReminder(Int32)" on controller "Libraryhub.Controllers.V1.ApplicationSettingController" ("Libraryhub"). (122b2fdf)
2020-04-16T08:28:57.5149992+01:00 800000d4-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.EmailResponseObj"'. (8a1b66c8)
2020-04-16T08:28:58.6652804+01:00 800000d4-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)" in 55476.838800000005ms (afa2e885)
2020-04-16T08:28:59.1556638+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T08:28:59.5778732+01:00 800000d4-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (99874f2b)
2020-04-16T08:28:59.7743396+01:00  [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[CheckOutActivityId], [b].[BookId], [b].[CheckOutDate], [b].[Email], [b].[ExpectedReturnDate], [b].[FullName], [b].[NationalIdentificationNumber], [b].[PhoneNumber], [b].[ReturnDate], [b].[Status], [b].[UserId]
FROM [BookActivities] AS [b]
WHERE [b].[Status] = 1" (65d11854)
2020-04-16T08:29:02.2748613+01:00 800000d4-0000-ff00-b63f-84710c7967bb [INF] Request finished in 64084.8678ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T08:29:06.8849346+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T08:30:16.7647401+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T08:30:47.5300274+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T08:37:29.5651184+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T08:37:31.7389117+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T08:37:31.7445099+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T08:37:31.8765103+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T08:37:39.1307727+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T08:37:39.5364582+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T08:37:39.5851864+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-16T08:37:39.8597131+01:00  [INF] Queued Hosted Service is starting. (cb05eba7)
2020-04-16T08:37:40.5651706+01:00 800000d6-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/   (ca22a1cb)
2020-04-16T08:37:40.9114314+01:00 800000d6-0000-ff00-b63f-84710c7967bb [INF] Request finished in 366.2373ms 404  (791a596a)
2020-04-16T08:37:50.0324296+01:00 8000008f-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T08:37:51.9427363+01:00 8000008f-0001-fe00-b63f-84710c7967bb [INF] Request finished in 2386.2003ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T08:37:52.6556538+01:00 80000091-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/v1/swagger.json   (ca22a1cb)
2020-04-16T08:37:53.3863297+01:00 80000091-0001-fe00-b63f-84710c7967bb [INF] Request finished in 710.5892ms 200 application/json;charset=utf-8 (791a596a)
2020-04-16T08:38:52.9553634+01:00 80000093-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 PUT https://localhost:44382/api/v1/reminder/Switch?Switch=1  0 (ca22a1cb)
2020-04-16T08:38:52.9850713+01:00 80000093-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (500cc934)
2020-04-16T08:38:53.1703571+01:00 80000093-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckoutReminder\", controller = \"ApplicationSetting\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.EmailResponseObj]] CheckoutReminder(Int32)" on controller "Libraryhub.Controllers.V1.ApplicationSettingController" ("Libraryhub"). (122b2fdf)
2020-04-16T08:38:58.3461583+01:00 80000093-0001-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.EmailResponseObj"'. (8a1b66c8)
2020-04-16T08:38:59.3850117+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T08:39:04.1462375+01:00 80000093-0001-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)" in 5901.205400000001ms (afa2e885)
2020-04-16T08:39:04.1969344+01:00  [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[CheckOutActivityId], [b].[BookId], [b].[CheckOutDate], [b].[Email], [b].[ExpectedReturnDate], [b].[FullName], [b].[NationalIdentificationNumber], [b].[PhoneNumber], [b].[ReturnDate], [b].[Status], [b].[UserId]
FROM [BookActivities] AS [b]
WHERE [b].[Status] = 1" (65d11854)
2020-04-16T08:39:04.9193491+01:00 80000093-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (99874f2b)
2020-04-16T08:39:05.5513889+01:00 80000093-0001-fe00-b63f-84710c7967bb [INF] Request finished in 11999.6235ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T08:39:11.0062911+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T08:47:13.6733104+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T08:47:23.4452581+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T08:47:23.4524208+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T08:47:24.6126984+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T08:47:32.2242378+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T08:47:34.5438021+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T08:47:34.8518472+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-16T08:47:37.2062351+01:00  [INF] Queued Hosted Service is starting. (cb05eba7)
2020-04-16T08:47:37.9767931+01:00 800000d8-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/   (ca22a1cb)
2020-04-16T08:47:37.9862282+01:00 80000095-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T08:47:38.5417905+01:00 80000095-0001-fe00-b63f-84710c7967bb [INF] Request finished in 896.2883ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T08:47:38.5418031+01:00 800000d8-0000-ff00-b63f-84710c7967bb [INF] Request finished in 923.6166000000001ms 0  (791a596a)
2020-04-16T08:47:42.6991234+01:00 800000da-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/v1/swagger.json   (ca22a1cb)
2020-04-16T08:47:44.3873373+01:00 800000da-0000-ff00-b63f-84710c7967bb [INF] Request finished in 2345.2522ms 200 application/json;charset=utf-8 (791a596a)
2020-04-16T08:47:57.3952009+01:00 80000097-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 PUT https://localhost:44382/api/v1/reminder/Switch?Switch=1  0 (ca22a1cb)
2020-04-16T08:47:57.4768628+01:00 80000097-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (500cc934)
2020-04-16T08:47:57.7300499+01:00 80000097-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckoutReminder\", controller = \"ApplicationSetting\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.EmailResponseObj]] CheckoutReminder(Int32)" on controller "Libraryhub.Controllers.V1.ApplicationSettingController" ("Libraryhub"). (122b2fdf)
2020-04-16T08:48:02.0238370+01:00 80000097-0001-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.EmailResponseObj"'. (8a1b66c8)
2020-04-16T08:48:04.3528257+01:00 80000097-0001-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)" in 4526.9939ms (afa2e885)
2020-04-16T08:48:04.5307341+01:00 80000097-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (99874f2b)
2020-04-16T08:48:04.6902587+01:00 80000097-0001-fe00-b63f-84710c7967bb [INF] Request finished in 8363.2185ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T08:48:04.7075594+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T08:48:05.8271286+01:00  [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[CheckOutActivityId], [b].[BookId], [b].[CheckOutDate], [b].[Email], [b].[ExpectedReturnDate], [b].[FullName], [b].[NationalIdentificationNumber], [b].[PhoneNumber], [b].[ReturnDate], [b].[Status], [b].[UserId]
FROM [BookActivities] AS [b]
WHERE [b].[Status] = 1" (65d11854)
2020-04-16T08:48:06.1464750+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T08:48:33.1859344+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T08:48:58.1425213+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T08:49:38.3125144+01:00  [INF] Queued Background Task "0d5d30e2-927f-43e2-b212-9f2e97fb8768" is complete. 3/3 (5da73653)
2020-04-16T08:55:13.2100526+01:00 80000099-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 PUT https://localhost:44382/api/v1/reminder/Switch?Switch=1  0 (ca22a1cb)
2020-04-16T08:55:13.2329672+01:00 80000099-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (500cc934)
2020-04-16T08:55:13.2417162+01:00 80000099-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckoutReminder\", controller = \"ApplicationSetting\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.EmailResponseObj]] CheckoutReminder(Int32)" on controller "Libraryhub.Controllers.V1.ApplicationSettingController" ("Libraryhub"). (122b2fdf)
2020-04-16T08:55:13.2618284+01:00 80000099-0001-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.EmailResponseObj"'. (8a1b66c8)
2020-04-16T08:55:13.2740538+01:00 80000099-0001-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)" in 25.771ms (afa2e885)
2020-04-16T08:55:13.2866137+01:00 80000099-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (99874f2b)
2020-04-16T08:55:13.3000148+01:00 80000099-0001-fe00-b63f-84710c7967bb [INF] Request finished in 116.3204ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T08:55:13.3584831+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T08:55:14.5188049+01:00  [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[CheckOutActivityId], [b].[BookId], [b].[CheckOutDate], [b].[Email], [b].[ExpectedReturnDate], [b].[FullName], [b].[NationalIdentificationNumber], [b].[PhoneNumber], [b].[ReturnDate], [b].[Status], [b].[UserId]
FROM [BookActivities] AS [b]
WHERE [b].[Status] = 1" (65d11854)
2020-04-16T08:55:14.5707940+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T08:55:29.1972982+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T08:55:51.5477572+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T09:00:58.8970246+01:00  [INF] EmailService OQ1B (92a47221)
2020-04-16T09:05:22.2303706+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T09:05:29.6738091+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T09:05:29.6809934+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T09:05:29.8418308+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T09:05:38.3121263+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T09:05:42.1435840+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T09:05:43.3534112+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-16T09:05:43.7962325+01:00  [INF] Queued Hosted Service is starting. (cb05eba7)
2020-04-16T09:05:44.1864816+01:00 800000cf-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/   (ca22a1cb)
2020-04-16T09:05:45.3372372+01:00 800000cf-0000-fe00-b63f-84710c7967bb [INF] Request finished in 1165.578ms 404  (791a596a)
2020-04-16T09:06:25.4809000+01:00 800000d1-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T09:06:25.6656764+01:00 800000d1-0000-fe00-b63f-84710c7967bb [INF] Request finished in 185.53820000000002ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T09:06:29.0044264+01:00 80000085-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/v1/swagger.json   (ca22a1cb)
2020-04-16T09:06:30.8554389+01:00 80000085-0001-fc00-b63f-84710c7967bb [INF] Request finished in 3681.427ms 200 application/json;charset=utf-8 (791a596a)
2020-04-16T09:06:45.0312760+01:00 800000d3-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 PUT https://localhost:44382/api/v1/reminder/Switch?Switch=1  0 (ca22a1cb)
2020-04-16T09:06:45.2470498+01:00 800000d3-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (500cc934)
2020-04-16T09:06:45.3799982+01:00 800000d3-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckoutReminder\", controller = \"ApplicationSetting\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.EmailResponseObj]] CheckoutReminder(Int32)" on controller "Libraryhub.Controllers.V1.ApplicationSettingController" ("Libraryhub"). (122b2fdf)
2020-04-16T09:06:45.6276230+01:00 800000d3-0000-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.EmailResponseObj"'. (8a1b66c8)
2020-04-16T09:06:45.6988141+01:00 800000d3-0000-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)" in 268.2213ms (afa2e885)
2020-04-16T09:06:45.8819153+01:00 800000d3-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (99874f2b)
2020-04-16T09:06:46.9335889+01:00 800000d3-0000-fe00-b63f-84710c7967bb [INF] Request finished in 2210.2176ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T09:06:47.0565488+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T09:06:48.6495435+01:00  [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[CheckOutActivityId], [b].[BookId], [b].[CheckOutDate], [b].[Email], [b].[ExpectedReturnDate], [b].[FullName], [b].[NationalIdentificationNumber], [b].[PhoneNumber], [b].[ReturnDate], [b].[Status], [b].[UserId]
FROM [BookActivities] AS [b]
WHERE [b].[Status] = 1" (65d11854)
2020-04-16T09:06:49.3205632+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T09:07:51.3334473+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T09:08:23.2923406+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T09:08:55.0858256+01:00 80000087-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 PUT https://localhost:44382/api/v1/reminder/Switch?Switch=1  0 (ca22a1cb)
2020-04-16T09:08:55.1878784+01:00 80000087-0001-fc00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (500cc934)
2020-04-16T09:08:55.2652111+01:00 80000087-0001-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckoutReminder\", controller = \"ApplicationSetting\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.EmailResponseObj]] CheckoutReminder(Int32)" on controller "Libraryhub.Controllers.V1.ApplicationSettingController" ("Libraryhub"). (122b2fdf)
2020-04-16T09:08:55.3050904+01:00 80000087-0001-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.EmailResponseObj"'. (8a1b66c8)
2020-04-16T09:08:55.3188651+01:00 80000087-0001-fc00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)" in 42.5379ms (afa2e885)
2020-04-16T09:08:55.3267548+01:00 80000087-0001-fc00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.ApplicationSettingController.CheckoutReminder (Libraryhub)"' (99874f2b)
2020-04-16T09:08:55.3375078+01:00 80000087-0001-fc00-b63f-84710c7967bb [INF] Request finished in 354.3996ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T09:09:40.7002501+01:00  [INF] Queued Background Task "99ab0a69-0083-4fcd-aacc-fea494da20d3" is complete. 3/3 (5da73653)
2020-04-16T09:09:40.7951693+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T09:09:41.3934831+01:00  [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[CheckOutActivityId], [b].[BookId], [b].[CheckOutDate], [b].[Email], [b].[ExpectedReturnDate], [b].[FullName], [b].[NationalIdentificationNumber], [b].[PhoneNumber], [b].[ReturnDate], [b].[Status], [b].[UserId]
FROM [BookActivities] AS [b]
WHERE [b].[Status] = 1" (65d11854)
2020-04-16T09:09:41.5851821+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T09:09:56.1488211+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T09:45:12.8906255+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T09:45:22.0888104+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T09:45:22.1135701+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T09:45:22.3038877+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T09:45:29.8796265+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T09:45:33.0337103+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T09:45:35.2051514+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-16T09:45:36.1891497+01:00  [INF] Queued Hosted Service is starting. (cb05eba7)
2020-04-16T09:45:36.6698690+01:00 800000dc-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/   (ca22a1cb)
2020-04-16T09:45:36.6964657+01:00 800000de-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T09:45:37.9302557+01:00 800000de-0000-ff00-b63f-84710c7967bb [INF] Request finished in 1262.2294000000002ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T09:45:40.1728543+01:00 800000dc-0000-ff00-b63f-84710c7967bb [INF] Request finished in 1624.3661000000002ms 0  (791a596a)
2020-04-16T09:45:44.9305006+01:00 8000009c-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/v1/swagger.json   (ca22a1cb)
2020-04-16T09:45:47.0961248+01:00 8000009c-0001-fe00-b63f-84710c7967bb [INF] Request finished in 1722.9918ms 200 application/json;charset=utf-8 (791a596a)
2020-04-16T09:52:12.8300663+01:00 800000e0-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/api/v1/book/LoadAllBooks   (ca22a1cb)
2020-04-16T09:52:12.8674972+01:00 800000e0-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (500cc934)
2020-04-16T09:52:13.0074905+01:00 800000e0-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllPost\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IList`1[Libraryhub.Contracts.RequestObjs.BookResponseObj]]] GetAllPostAsync()" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T09:52:14.6784990+01:00 800000e0-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T09:52:17.9924212+01:00 800000e0-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title], [b0].[CheckOutActivityId], [b0].[BookId], [b0].[CheckOutDate], [b0].[Email], [b0].[ExpectedReturnDate], [b0].[FullName], [b0].[NationalIdentificationNumber], [b0].[PhoneNumber], [b0].[ReturnDate], [b0].[Status], [b0].[UserId]
FROM [Books] AS [b]
LEFT JOIN [BookActivities] AS [b0] ON [b].[BookId] = [b0].[BookId]
ORDER BY [b].[BookId], [b0].[CheckOutActivityId]" (65d11854)
2020-04-16T09:52:21.4134490+01:00 800000e0-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Libraryhub.Contracts.RequestObjs.BookResponseObj, Libraryhub.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2020-04-16T09:52:22.6578427+01:00 800000e0-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)" in 8549.9748ms (afa2e885)
2020-04-16T09:52:22.8206702+01:00 800000e0-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (99874f2b)
2020-04-16T09:52:23.2570275+01:00 800000e0-0000-ff00-b63f-84710c7967bb [INF] Request finished in 10220.3292ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T09:53:10.1871534+01:00 8000009e-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T09:53:10.2228360+01:00 8000009e-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T09:53:10.2723767+01:00 8000009e-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T09:53:29.4922325+01:00 8000009e-0001-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T09:53:29.5412148+01:00 8000009e-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T09:53:29.6393059+01:00 8000009e-0001-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.RegBookResponseObj"'. (8a1b66c8)
2020-04-16T09:53:29.6649664+01:00 8000009e-0001-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 19371.847100000003ms (afa2e885)
2020-04-16T09:53:29.6769254+01:00 8000009e-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T09:53:29.6915449+01:00 8000009e-0001-fe00-b63f-84710c7967bb [INF] Request finished in 19539.2959ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T09:58:13.2523591+01:00 800000a0-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T09:58:13.3648832+01:00 800000a0-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T09:58:13.4004971+01:00 800000a0-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T09:58:13.4696258+01:00 800000a0-0001-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T09:58:13.4822920+01:00 800000a0-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T09:58:33.8181748+01:00 800000a0-0001-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.RegBookResponseObj"'. (8a1b66c8)
2020-04-16T09:58:34.4692419+01:00 800000a0-0001-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 20732.9388ms (afa2e885)
2020-04-16T09:58:34.5033802+01:00 800000a0-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T09:58:34.5106830+01:00 800000a0-0001-fe00-b63f-84710c7967bb [INF] Request finished in 21626.6754ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T09:58:59.8421003+01:00 800000a2-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckInBooks application/json 141 (ca22a1cb)
2020-04-16T09:58:59.8904492+01:00 800000a2-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckInBook (Libraryhub)"' (500cc934)
2020-04-16T09:59:00.8129527+01:00 800000a2-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckInBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.CheckOutActivityResponseObj]] CheckInBook(Libraryhub.Contracts.RequestObjs.EditCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T09:59:07.8548879+01:00 800000a2-0001-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T09:59:08.1565195+01:00 800000a2-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T09:59:08.3177291+01:00 800000a2-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[CheckOutActivityId], [b].[BookId], [b].[CheckOutDate], [b].[Email], [b].[ExpectedReturnDate], [b].[FullName], [b].[NationalIdentificationNumber], [b].[PhoneNumber], [b].[ReturnDate], [b].[Status], [b].[UserId]
FROM [BookActivities] AS [b]
WHERE ([b].[CheckOutActivityId] = @__id_0) AND @__id_0 IS NOT NULL" (65d11854)
2020-04-16T09:59:08.3606011+01:00 800000a2-0001-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.CheckOutActivityResponseObj"'. (8a1b66c8)
2020-04-16T09:59:08.4064946+01:00 800000a2-0001-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckInBook (Libraryhub)" in 7555.8701ms (afa2e885)
2020-04-16T09:59:08.4171129+01:00 800000a2-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckInBook (Libraryhub)"' (99874f2b)
2020-04-16T09:59:08.4250581+01:00 800000a2-0001-fe00-b63f-84710c7967bb [INF] Request finished in 8617.8616ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T09:59:41.3376385+01:00 800000e2-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckInBooks application/json 141 (ca22a1cb)
2020-04-16T09:59:41.5382879+01:00 800000e2-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckInBook (Libraryhub)"' (500cc934)
2020-04-16T09:59:42.0498460+01:00 800000e2-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckInBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.CheckOutActivityResponseObj]] CheckInBook(Libraryhub.Contracts.RequestObjs.EditCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T09:59:42.0996521+01:00 800000e2-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T09:59:42.6068871+01:00 800000e2-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T09:59:42.8953839+01:00 800000e2-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[CheckOutActivityId], [b].[BookId], [b].[CheckOutDate], [b].[Email], [b].[ExpectedReturnDate], [b].[FullName], [b].[NationalIdentificationNumber], [b].[PhoneNumber], [b].[ReturnDate], [b].[Status], [b].[UserId]
FROM [BookActivities] AS [b]
WHERE ([b].[CheckOutActivityId] = @__id_0) AND @__id_0 IS NOT NULL" (65d11854)
2020-04-16T09:59:59.9612619+01:00 800000e2-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.CheckOutActivityResponseObj"'. (8a1b66c8)
2020-04-16T10:00:06.9853600+01:00 800000e2-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckInBook (Libraryhub)" in 18516.716200000003ms (afa2e885)
2020-04-16T10:00:07.0263996+01:00 800000e2-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckInBook (Libraryhub)"' (99874f2b)
2020-04-16T10:00:07.0631061+01:00 800000e2-0000-ff00-b63f-84710c7967bb [INF] Request finished in 27338.199ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T10:00:19.2783798+01:00 800000e4-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckInBooks application/json 143 (ca22a1cb)
2020-04-16T10:00:19.4914501+01:00 800000e4-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckInBook (Libraryhub)"' (500cc934)
2020-04-16T10:00:20.3779278+01:00 800000e4-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckInBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.CheckOutActivityResponseObj]] CheckInBook(Libraryhub.Contracts.RequestObjs.EditCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T10:00:20.8135722+01:00 800000e4-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T10:00:20.8928834+01:00 800000e4-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T10:00:21.0448468+01:00 800000e4-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[CheckOutActivityId], [b].[BookId], [b].[CheckOutDate], [b].[Email], [b].[ExpectedReturnDate], [b].[FullName], [b].[NationalIdentificationNumber], [b].[PhoneNumber], [b].[ReturnDate], [b].[Status], [b].[UserId]
FROM [BookActivities] AS [b]
WHERE ([b].[CheckOutActivityId] = @__id_0) AND @__id_0 IS NOT NULL" (65d11854)
2020-04-16T10:00:21.3191058+01:00 800000e4-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T10:00:21.4434787+01:00 800000e4-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[CheckOutActivityId], [b].[BookId], [b].[CheckOutDate], [b].[Email], [b].[ExpectedReturnDate], [b].[FullName], [b].[NationalIdentificationNumber], [b].[PhoneNumber], [b].[ReturnDate], [b].[Status], [b].[UserId]
FROM [BookActivities] AS [b]
WHERE ([b].[CheckOutActivityId] = @__id_0) AND @__id_0 IS NOT NULL" (65d11854)
2020-04-16T10:00:22.2980223+01:00 800000e4-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [BookActivities] SET [ReturnDate] = @p0, [Status] = @p1
WHERE [CheckOutActivityId] = @p2;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T10:00:22.7936681+01:00 800000e4-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Decimal), @p5='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookPenalties] ([BookId], [CheckOutActivityId], [ExpectedReturnDate], [NumberOfDaysLate], [PenaltyFee], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [BookPenaltyId]
FROM [BookPenalties]
WHERE @@ROWCOUNT = 1 AND [BookPenaltyId] = scope_identity();" (65d11854)
2020-04-16T10:00:27.8887366+01:00 800000e4-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [IsAvailable] = @p0, [Quantity] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T10:00:43.8319608+01:00 800000e4-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.CheckOutActivityResponseObj"'. (8a1b66c8)
2020-04-16T10:00:44.8802494+01:00 800000e4-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckInBook (Libraryhub)" in 23581.130800000003ms (afa2e885)
2020-04-16T10:00:46.5752156+01:00 800000e4-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckInBook (Libraryhub)"' (99874f2b)
2020-04-16T10:00:48.3846218+01:00 800000e4-0000-ff00-b63f-84710c7967bb [INF] Request finished in 28290.626900000003ms 201 application/json; charset=utf-8 (791a596a)
2020-04-16T10:01:06.0902785+01:00 800000a4-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T10:01:06.1212960+01:00 800000a4-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T10:01:06.1274730+01:00 800000a4-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T10:01:06.1939016+01:00 800000a4-0001-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T10:01:06.2100372+01:00 800000a4-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T10:01:06.2702406+01:00 800000a4-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T10:01:06.4107063+01:00 800000a4-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T10:01:06.4848984+01:00 800000a4-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 12), @p6='?' (Size = 12), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookActivities] ([BookId], [CheckOutDate], [Email], [ExpectedReturnDate], [FullName], [NationalIdentificationNumber], [PhoneNumber], [ReturnDate], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CheckOutActivityId]
FROM [BookActivities]
WHERE @@ROWCOUNT = 1 AND [CheckOutActivityId] = scope_identity();" (65d11854)
2020-04-16T10:01:06.8746666+01:00 800000a4-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [IsAvailable] = @p0, [Quantity] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T10:01:36.6114248+01:00 800000a4-0001-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.CheckOutActivityResponseObj"'. (8a1b66c8)
2020-04-16T10:01:36.6247334+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T10:01:36.7073601+01:00  [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[CheckOutActivityId], [b].[BookId], [b].[CheckOutDate], [b].[Email], [b].[ExpectedReturnDate], [b].[FullName], [b].[NationalIdentificationNumber], [b].[PhoneNumber], [b].[ReturnDate], [b].[Status], [b].[UserId]
FROM [BookActivities] AS [b]
WHERE [b].[Status] = 1" (65d11854)
2020-04-16T10:01:36.8754677+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T10:01:36.8902267+01:00 800000a4-0001-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 30487.068900000002ms (afa2e885)
2020-04-16T10:01:37.0911439+01:00 800000a4-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T10:01:41.6073666+01:00 800000a4-0001-fe00-b63f-84710c7967bb [INF] Request finished in 31039.884400000003ms 201 application/json; charset=utf-8 (791a596a)
2020-04-16T10:01:49.3566273+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T10:01:58.6885331+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T10:05:32.1419928+01:00  [ERR] An error occurred trying to send  Email. Error: "Object reference not set to an instance of an object." (6720f147)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Libraryhub.MailHandler.Service.EmailService.Send(EmailMessage emailMessage)
   at Libraryhub.Service.ServiceImplementation.AppSettingService.<>c__DisplayClass8_0.<<CheckoutReminder>b__0>d.MoveNext()
2020-04-16T10:06:32.1516057+01:00  [INF] Queued Background Task "07d5e9ee-ef7f-4a75-b72c-59a58cd46de7" is complete. (1d1ef826)
2020-04-16T10:10:50.2106922+01:00 800000e6-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T10:10:50.2359673+01:00 800000e6-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T10:10:50.2456843+01:00 800000e6-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T10:10:50.2802449+01:00 800000e6-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T10:10:51.4981343+01:00 800000e6-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T10:10:51.5712246+01:00 800000e6-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.RegBookResponseObj"'. (8a1b66c8)
2020-04-16T10:10:51.5874811+01:00 800000e6-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 1334.3839ms (afa2e885)
2020-04-16T10:10:51.5943271+01:00 800000e6-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T10:10:51.6006675+01:00 800000e6-0000-ff00-b63f-84710c7967bb [INF] Request finished in 2026.432ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T10:11:02.5078009+01:00 800000e8-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckInBooks application/json 143 (ca22a1cb)
2020-04-16T10:11:02.5317810+01:00 800000e8-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckInBook (Libraryhub)"' (500cc934)
2020-04-16T10:11:02.5544815+01:00 800000e8-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckInBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.CheckOutActivityResponseObj]] CheckInBook(Libraryhub.Contracts.RequestObjs.EditCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T10:11:02.5972667+01:00 800000e8-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T10:11:02.6236586+01:00 800000e8-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T10:11:03.3205417+01:00 800000e8-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[CheckOutActivityId], [b].[BookId], [b].[CheckOutDate], [b].[Email], [b].[ExpectedReturnDate], [b].[FullName], [b].[NationalIdentificationNumber], [b].[PhoneNumber], [b].[ReturnDate], [b].[Status], [b].[UserId]
FROM [BookActivities] AS [b]
WHERE ([b].[CheckOutActivityId] = @__id_0) AND @__id_0 IS NOT NULL" (65d11854)
2020-04-16T10:11:17.9925005+01:00 800000e8-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.CheckOutActivityResponseObj"'. (8a1b66c8)
2020-04-16T10:11:18.2305731+01:00 800000e8-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckInBook (Libraryhub)" in 15460.2497ms (afa2e885)
2020-04-16T10:11:18.3464961+01:00 800000e8-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckInBook (Libraryhub)"' (99874f2b)
2020-04-16T10:11:18.5119954+01:00 800000e8-0000-ff00-b63f-84710c7967bb [INF] Request finished in 15937.1249ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T10:11:24.8144875+01:00 800000a6-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckInBooks application/json 143 (ca22a1cb)
2020-04-16T10:11:24.8429303+01:00 800000a6-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckInBook (Libraryhub)"' (500cc934)
2020-04-16T10:11:24.8776607+01:00 800000a6-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckInBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.CheckOutActivityResponseObj]] CheckInBook(Libraryhub.Contracts.RequestObjs.EditCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T10:11:24.8945545+01:00 800000a6-0001-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T10:11:24.9059136+01:00 800000a6-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T10:11:24.9271282+01:00 800000a6-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[CheckOutActivityId], [b].[BookId], [b].[CheckOutDate], [b].[Email], [b].[ExpectedReturnDate], [b].[FullName], [b].[NationalIdentificationNumber], [b].[PhoneNumber], [b].[ReturnDate], [b].[Status], [b].[UserId]
FROM [BookActivities] AS [b]
WHERE ([b].[CheckOutActivityId] = @__id_0) AND @__id_0 IS NOT NULL" (65d11854)
2020-04-16T10:11:46.3151497+01:00 800000a6-0001-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.CheckOutActivityResponseObj"'. (8a1b66c8)
2020-04-16T10:11:46.3847048+01:00 800000a6-0001-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckInBook (Libraryhub)" in 21480.9497ms (afa2e885)
2020-04-16T10:11:46.3923029+01:00 800000a6-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckInBook (Libraryhub)"' (99874f2b)
2020-04-16T10:11:46.4070054+01:00 800000a6-0001-fe00-b63f-84710c7967bb [INF] Request finished in 21598.860500000003ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T10:11:52.3662958+01:00 800000ea-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckInBooks application/json 141 (ca22a1cb)
2020-04-16T10:11:52.3774020+01:00 800000ea-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckInBook (Libraryhub)"' (500cc934)
2020-04-16T10:11:52.3856295+01:00 800000ea-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckInBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.CheckOutActivityResponseObj]] CheckInBook(Libraryhub.Contracts.RequestObjs.EditCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T10:11:52.4025582+01:00 800000ea-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T10:11:52.4208473+01:00 800000ea-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T10:11:52.5307048+01:00 800000ea-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[CheckOutActivityId], [b].[BookId], [b].[CheckOutDate], [b].[Email], [b].[ExpectedReturnDate], [b].[FullName], [b].[NationalIdentificationNumber], [b].[PhoneNumber], [b].[ReturnDate], [b].[Status], [b].[UserId]
FROM [BookActivities] AS [b]
WHERE ([b].[CheckOutActivityId] = @__id_0) AND @__id_0 IS NOT NULL" (65d11854)
2020-04-16T10:12:42.7440237+01:00 800000ea-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T10:12:44.7143704+01:00 800000ea-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[CheckOutActivityId], [b].[BookId], [b].[CheckOutDate], [b].[Email], [b].[ExpectedReturnDate], [b].[FullName], [b].[NationalIdentificationNumber], [b].[PhoneNumber], [b].[ReturnDate], [b].[Status], [b].[UserId]
FROM [BookActivities] AS [b]
WHERE ([b].[CheckOutActivityId] = @__id_0) AND @__id_0 IS NOT NULL" (65d11854)
2020-04-16T10:13:09.4828565+01:00 800000ea-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.CheckOutActivityResponseObj"'. (8a1b66c8)
2020-04-16T10:13:09.5119837+01:00 800000ea-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckInBook (Libraryhub)" in 77099.0427ms (afa2e885)
2020-04-16T10:13:09.5359913+01:00 800000ea-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckInBook (Libraryhub)"' (99874f2b)
2020-04-16T10:13:09.5675112+01:00 800000ea-0000-ff00-b63f-84710c7967bb [INF] Request finished in 77211.9376ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T10:13:23.0153269+01:00 800000ec-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T10:13:23.0330674+01:00 800000ec-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T10:13:23.0488038+01:00 800000ec-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T10:13:23.0659775+01:00 800000ec-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T10:13:23.0803357+01:00 800000ec-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T10:13:23.1092077+01:00 800000ec-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T10:13:23.1259149+01:00 800000ec-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T10:13:23.1450433+01:00 800000ec-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 12), @p6='?' (Size = 12), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookActivities] ([BookId], [CheckOutDate], [Email], [ExpectedReturnDate], [FullName], [NationalIdentificationNumber], [PhoneNumber], [ReturnDate], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CheckOutActivityId]
FROM [BookActivities]
WHERE @@ROWCOUNT = 1 AND [CheckOutActivityId] = scope_identity();" (65d11854)
2020-04-16T10:13:23.1842970+01:00 800000ec-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [IsAvailable] = @p0, [Quantity] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T10:14:17.7169157+01:00 800000ec-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 54658.2246ms (afa2e885)
2020-04-16T10:14:17.7378616+01:00 800000ec-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T10:14:18.2189084+01:00 800000ec-0000-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Libraryhub.Controllers.V1.BookController.CheckOutBook(AddCheckOutActivityRequestObj requestObj)
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T10:14:22.0223633+01:00 800000ec-0000-ff00-b63f-84710c7967bb [INF] Request finished in 57448.9172ms 404  (791a596a)
2020-04-16T10:16:22.7116651+01:00 800000a8-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T10:16:22.9426546+01:00 800000a8-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T10:16:23.0174496+01:00 800000a8-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T10:16:23.1982835+01:00 800000a8-0001-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T10:16:24.1619520+01:00 800000a8-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T10:16:24.2645090+01:00 800000a8-0001-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.RegBookResponseObj"'. (8a1b66c8)
2020-04-16T10:16:24.2916040+01:00 800000a8-0001-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 1249.3211000000001ms (afa2e885)
2020-04-16T10:16:24.3089013+01:00 800000a8-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T10:16:24.3222231+01:00 800000a8-0001-fe00-b63f-84710c7967bb [INF] Request finished in 1744.3333ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T16:44:52.7977304+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T16:44:57.4582974+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T16:44:57.7025514+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T16:44:58.3146832+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T16:45:05.0712314+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T16:45:05.8423612+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T16:45:05.9269048+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-16T16:45:06.7663641+01:00  [INF] Queued Hosted Service is starting. (cb05eba7)
2020-04-16T16:45:07.3648160+01:00 800000aa-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/   (ca22a1cb)
2020-04-16T16:45:11.3341154+01:00 800000aa-0001-fe00-b63f-84710c7967bb [INF] Request finished in 4147.1867ms 404  (791a596a)
2020-04-16T16:46:07.8727358+01:00 800000ac-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T16:46:08.0504968+01:00 800000ac-0001-fe00-b63f-84710c7967bb [INF] Request finished in 227.34040000000002ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T16:46:11.7902746+01:00 800000ee-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/v1/swagger.json   (ca22a1cb)
2020-04-16T16:46:13.3019606+01:00 800000ee-0000-ff00-b63f-84710c7967bb [INF] Request finished in 1492.3536000000001ms 200 application/json;charset=utf-8 (791a596a)
2020-04-16T16:46:44.5194049+01:00 800000f0-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/api/v1/book/LoadAllBooks   (ca22a1cb)
2020-04-16T16:46:44.8057410+01:00 800000f0-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (500cc934)
2020-04-16T16:46:45.4771502+01:00 800000f0-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllPost\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IList`1[Libraryhub.Contracts.RequestObjs.BookResponseObj]]] GetAllPostAsync()" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T16:46:46.9669067+01:00 800000f0-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T16:46:47.1030348+01:00 800000f0-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title], [b0].[CheckOutActivityId], [b0].[BookId], [b0].[CheckOutDate], [b0].[Email], [b0].[ExpectedReturnDate], [b0].[FullName], [b0].[NationalIdentificationNumber], [b0].[PhoneNumber], [b0].[ReturnDate], [b0].[Status], [b0].[UserId]
FROM [Books] AS [b]
LEFT JOIN [BookActivities] AS [b0] ON [b].[BookId] = [b0].[BookId]
ORDER BY [b].[BookId], [b0].[CheckOutActivityId]" (65d11854)
2020-04-16T16:46:47.4331007+01:00 800000f0-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Libraryhub.Contracts.RequestObjs.BookResponseObj, Libraryhub.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2020-04-16T16:46:47.5120340+01:00 800000f0-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)" in 2009.9138ms (afa2e885)
2020-04-16T16:46:47.5177745+01:00 800000f0-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (99874f2b)
2020-04-16T16:46:47.5341886+01:00 800000f0-0000-ff00-b63f-84710c7967bb [INF] Request finished in 3082.5067000000004ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T16:47:22.0993513+01:00 800000f2-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/LoadBookByStatus application/json 15 (ca22a1cb)
2020-04-16T16:47:22.1201073+01:00 800000f2-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.GetBookByStatus (Libraryhub)"' (500cc934)
2020-04-16T16:47:22.1745226+01:00 800000f2-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetBookByStatus\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Libraryhub.Contracts.RequestObjs.BookResponseObj]]] GetBookByStatus(Libraryhub.Contracts.RequestObjs.BookByStatusSearchObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T16:47:22.2772069+01:00 800000f2-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T16:47:22.3066471+01:00 800000f2-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__status_0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[IsAvailable] = @__status_0) AND @__status_0 IS NOT NULL" (65d11854)
2020-04-16T16:47:22.3853485+01:00 800000f2-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Libraryhub.Contracts.RequestObjs.BookResponseObj, Libraryhub.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2020-04-16T16:47:22.4059978+01:00 800000f2-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.GetBookByStatus (Libraryhub)" in 211.42860000000002ms (afa2e885)
2020-04-16T16:47:22.4101792+01:00 800000f2-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.GetBookByStatus (Libraryhub)"' (99874f2b)
2020-04-16T16:47:22.4205124+01:00 800000f2-0000-ff00-b63f-84710c7967bb [INF] Request finished in 438.6623ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T16:50:39.5669415+01:00 800000f4-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T16:50:41.0541570+01:00 800000f4-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T16:50:41.6050704+01:00 800000f4-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T16:50:42.3600482+01:00 800000ae-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T16:50:43.2525336+01:00 800000ae-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T16:50:44.0858536+01:00 800000ae-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T16:50:44.9440771+01:00 800000f4-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T16:50:44.9508312+01:00 800000ae-0001-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T16:50:44.9850434+01:00 800000f4-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T16:51:02.9768275+01:00 800000f4-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.RegBookResponseObj"'. (8a1b66c8)
2020-04-16T16:51:03.0150498+01:00 800000f4-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 21386.651400000002ms (afa2e885)
2020-04-16T16:51:03.0495954+01:00 800000f4-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T16:51:03.1153722+01:00 800000f4-0000-ff00-b63f-84710c7967bb [INF] Request finished in 23757.141900000002ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T16:51:03.8317429+01:00 800000ae-0001-fe00-b63f-84710c7967bb [ERR] An error occurred using the connection to database '"Libraryhub"' on server '"FLAVE-DESKTOP-9"'. (5fc3407c)
2020-04-16T16:51:04.6998334+01:00 800000ae-0001-fe00-b63f-84710c7967bb [ERR] An exception occurred while iterating over the results of a query for context type '"Libraryhub.Data.DataContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=17891; handshake=70; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.AsyncQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:85d1e155-3cc9-4d92-829d-64be680f0989
Error Number:-2,State:0,Class:11" (f5c7ac34)
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=17891; handshake=70; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.AsyncQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at System.Runtime.CompilerServices.ValueTaskAwaiter`1.GetResult()
ClientConnectionId:85d1e155-3cc9-4d92-829d-64be680f0989
Error Number:-2,State:0,Class:11
2020-04-16T16:51:06.7498454+01:00 800000ae-0001-fe00-b63f-84710c7967bb [INF] CheckOutBookHandlerX6GM (36e70670)
2020-04-16T16:51:20.7757153+01:00 800000ae-0001-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.RegBookResponseObj"'. (8a1b66c8)
2020-04-16T16:51:20.8324595+01:00 800000ae-0001-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 36697.232ms (afa2e885)
2020-04-16T16:51:20.8432167+01:00 800000ae-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T16:51:20.8557080+01:00 800000ae-0001-fe00-b63f-84710c7967bb [INF] Request finished in 39558.7993ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T16:51:32.9349796+01:00 800000f6-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/api/v1/book/LoadAllBooks   (ca22a1cb)
2020-04-16T16:51:33.1053427+01:00 800000f6-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (500cc934)
2020-04-16T16:51:33.1458294+01:00 800000f6-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllPost\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IList`1[Libraryhub.Contracts.RequestObjs.BookResponseObj]]] GetAllPostAsync()" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T16:51:33.6237977+01:00 800000f6-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T16:51:33.6876832+01:00 800000f6-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title], [b0].[CheckOutActivityId], [b0].[BookId], [b0].[CheckOutDate], [b0].[Email], [b0].[ExpectedReturnDate], [b0].[FullName], [b0].[NationalIdentificationNumber], [b0].[PhoneNumber], [b0].[ReturnDate], [b0].[Status], [b0].[UserId]
FROM [Books] AS [b]
LEFT JOIN [BookActivities] AS [b0] ON [b].[BookId] = [b0].[BookId]
ORDER BY [b].[BookId], [b0].[CheckOutActivityId]" (65d11854)
2020-04-16T16:51:35.1402438+01:00 800000f6-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Libraryhub.Contracts.RequestObjs.BookResponseObj, Libraryhub.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2020-04-16T16:51:35.6599742+01:00 800000f6-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)" in 2220.4384ms (afa2e885)
2020-04-16T16:51:36.2227175+01:00 800000f6-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (99874f2b)
2020-04-16T16:51:36.3937150+01:00 800000f6-0000-ff00-b63f-84710c7967bb [INF] Request finished in 4283.654500000001ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T16:57:11.2534489+01:00 800000b0-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/api/v1/book/LoadAllBooks   (ca22a1cb)
2020-04-16T16:57:11.2648621+01:00 800000b0-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (500cc934)
2020-04-16T16:57:11.2724728+01:00 800000b0-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllPost\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IList`1[Libraryhub.Contracts.RequestObjs.BookResponseObj]]] GetAllPostAsync()" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T16:57:11.3051286+01:00 800000b0-0001-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T16:57:11.3194613+01:00 800000b0-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title], [b0].[CheckOutActivityId], [b0].[BookId], [b0].[CheckOutDate], [b0].[Email], [b0].[ExpectedReturnDate], [b0].[FullName], [b0].[NationalIdentificationNumber], [b0].[PhoneNumber], [b0].[ReturnDate], [b0].[Status], [b0].[UserId]
FROM [Books] AS [b]
LEFT JOIN [BookActivities] AS [b0] ON [b].[BookId] = [b0].[BookId]
ORDER BY [b].[BookId], [b0].[CheckOutActivityId]" (65d11854)
2020-04-16T16:57:11.3862970+01:00 800000b0-0001-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Libraryhub.Contracts.RequestObjs.BookResponseObj, Libraryhub.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2020-04-16T16:57:11.4119099+01:00 800000b0-0001-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)" in 117.4097ms (afa2e885)
2020-04-16T16:57:11.4196638+01:00 800000b0-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (99874f2b)
2020-04-16T16:57:11.4312813+01:00 800000b0-0001-fe00-b63f-84710c7967bb [INF] Request finished in 305.5091ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T16:57:22.7039397+01:00 800000f8-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T16:57:23.4141696+01:00 800000f8-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T16:57:23.9126197+01:00 800000f8-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T16:57:25.0304633+01:00 800000f8-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T16:57:25.3406978+01:00 800000f8-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T16:57:25.4978157+01:00 800000f8-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T16:57:25.5469468+01:00 800000f8-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T16:57:26.0666558+01:00 800000f8-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 12), @p6='?' (Size = 12), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookActivities] ([BookId], [CheckOutDate], [Email], [ExpectedReturnDate], [FullName], [NationalIdentificationNumber], [PhoneNumber], [ReturnDate], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CheckOutActivityId]
FROM [BookActivities]
WHERE @@ROWCOUNT = 1 AND [CheckOutActivityId] = scope_identity();" (65d11854)
2020-04-16T16:57:26.2474267+01:00 800000f8-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [IsAvailable] = @p0, [Quantity] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T16:57:43.2935293+01:00 800000f8-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 19228.699800000002ms (afa2e885)
2020-04-16T16:57:43.3635229+01:00 800000f8-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T16:57:43.4392918+01:00 800000f8-0000-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Libraryhub.Controllers.V1.BookController.CheckOutBook(AddCheckOutActivityRequestObj requestObj)
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T16:57:43.5289045+01:00 800000f8-0000-ff00-b63f-84710c7967bb [INF] Request finished in 20862.243700000003ms 404  (791a596a)
2020-04-16T16:59:55.1887601+01:00 800000b2-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T16:59:56.6992535+01:00 800000b2-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T16:59:56.9592625+01:00 800000b2-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T16:59:58.3471226+01:00 800000b2-0001-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T16:59:58.3606085+01:00 800000b2-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:00:12.7280518+01:00 800000b2-0001-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.RegBookResponseObj"'. (8a1b66c8)
2020-04-16T17:00:12.7609441+01:00 800000b2-0001-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 15769.5964ms (afa2e885)
2020-04-16T17:00:12.7673913+01:00 800000b2-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T17:00:12.7756215+01:00 800000b2-0001-fe00-b63f-84710c7967bb [INF] Request finished in 17678.9083ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T17:00:43.6392275+01:00 800000fa-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T17:00:43.6507364+01:00 800000fa-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T17:00:43.6615725+01:00 800000fa-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T17:00:43.6789286+01:00 800000fa-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T17:00:43.6884501+01:00 800000fa-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:00:43.7565179+01:00 800000fa-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T17:00:43.7857383+01:00 800000fa-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:00:43.8295895+01:00 800000fa-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 12), @p6='?' (Size = 12), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookActivities] ([BookId], [CheckOutDate], [Email], [ExpectedReturnDate], [FullName], [NationalIdentificationNumber], [PhoneNumber], [ReturnDate], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CheckOutActivityId]
FROM [BookActivities]
WHERE @@ROWCOUNT = 1 AND [CheckOutActivityId] = scope_identity();" (65d11854)
2020-04-16T17:00:43.8648684+01:00 800000fa-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [IsAvailable] = @p0, [Quantity] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T17:01:36.2469658+01:00 800000fa-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 52548.423200000005ms (afa2e885)
2020-04-16T17:01:36.2829204+01:00 800000fa-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T17:01:37.0153852+01:00 800000fa-0000-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Libraryhub.Controllers.V1.BookController.CheckOutBook(AddCheckOutActivityRequestObj requestObj)
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T17:01:37.0810034+01:00 800000fa-0000-ff00-b63f-84710c7967bb [INF] Request finished in 53425.3714ms 404  (791a596a)
2020-04-16T17:06:39.3126805+01:00 800000b4-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T17:06:39.3269320+01:00 800000b4-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T17:06:39.3385617+01:00 800000b4-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T17:06:39.3599741+01:00 800000b4-0001-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T17:06:40.2711679+01:00 800000b4-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:06:40.3114592+01:00 800000b4-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T17:06:40.3310079+01:00 800000b4-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:06:40.3601439+01:00 800000b4-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 12), @p6='?' (Size = 12), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookActivities] ([BookId], [CheckOutDate], [Email], [ExpectedReturnDate], [FullName], [NationalIdentificationNumber], [PhoneNumber], [ReturnDate], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CheckOutActivityId]
FROM [BookActivities]
WHERE @@ROWCOUNT = 1 AND [CheckOutActivityId] = scope_identity();" (65d11854)
2020-04-16T17:06:40.3849012+01:00 800000b4-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [IsAvailable] = @p0, [Quantity] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T17:07:23.5994285+01:00 800000b4-0001-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 44228.146100000005ms (afa2e885)
2020-04-16T17:07:23.6089378+01:00 800000b4-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T17:07:23.6228535+01:00 800000b4-0001-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Libraryhub.Controllers.V1.BookController.CheckOutBook(AddCheckOutActivityRequestObj requestObj)
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T17:07:23.6430384+01:00 800000b4-0001-fe00-b63f-84710c7967bb [INF] Request finished in 44319.063200000004ms 404  (791a596a)
2020-04-16T17:07:32.4948272+01:00 800000fc-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T17:07:32.7240808+01:00 800000fc-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T17:07:33.1598569+01:00 800000fc-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T17:07:34.7156235+01:00 800000fc-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T17:07:34.7527989+01:00 800000fc-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:07:34.7813331+01:00 800000fc-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T17:07:34.7963510+01:00 800000fc-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:07:34.8153679+01:00 800000fc-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 12), @p6='?' (Size = 12), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookActivities] ([BookId], [CheckOutDate], [Email], [ExpectedReturnDate], [FullName], [NationalIdentificationNumber], [PhoneNumber], [ReturnDate], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CheckOutActivityId]
FROM [BookActivities]
WHERE @@ROWCOUNT = 1 AND [CheckOutActivityId] = scope_identity();" (65d11854)
2020-04-16T17:07:34.8307380+01:00 800000fc-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [IsAvailable] = @p0, [Quantity] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T17:08:07.0646927+01:00 800000fc-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 33884.5873ms (afa2e885)
2020-04-16T17:08:07.0908902+01:00 800000fc-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T17:08:07.1025272+01:00 800000fc-0000-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Libraryhub.Controllers.V1.BookController.CheckOutBook(AddCheckOutActivityRequestObj requestObj)
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T17:08:07.1234107+01:00 800000fc-0000-ff00-b63f-84710c7967bb [INF] Request finished in 35052.8986ms 404  (791a596a)
2020-04-16T17:10:40.2153751+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T17:10:46.5320740+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T17:10:46.5803888+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T17:10:49.0806680+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T17:10:57.4966200+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T17:10:59.5530115+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T17:11:00.1639039+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-16T17:11:02.4168158+01:00  [INF] Queued Hosted Service is starting. (cb05eba7)
2020-04-16T17:11:03.3036461+01:00 800000d9-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T17:11:03.2961735+01:00 800000d7-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/   (ca22a1cb)
2020-04-16T17:11:04.7047490+01:00 80000089-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T17:11:04.7278894+01:00 800000d7-0000-fe00-b63f-84710c7967bb [INF] Request finished in 1717.4324000000001ms 0  (791a596a)
2020-04-16T17:11:05.3067055+01:00 800000d9-0000-fe00-b63f-84710c7967bb [INF] Request finished in 2090.1888ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T17:11:05.3300847+01:00 80000089-0001-fc00-b63f-84710c7967bb [INF] Request finished in 382.7121ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T17:11:07.0028426+01:00 8000008b-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/v1/swagger.json   (ca22a1cb)
2020-04-16T17:11:08.3615976+01:00 8000008b-0001-fc00-b63f-84710c7967bb [INF] Request finished in 1412.7154ms 200 application/json;charset=utf-8 (791a596a)
2020-04-16T17:11:42.4790727+01:00 800000db-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/api/v1/book/LoadAllBooks   (ca22a1cb)
2020-04-16T17:11:42.5038328+01:00 800000db-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (500cc934)
2020-04-16T17:11:42.6271346+01:00 800000db-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllPost\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IList`1[Libraryhub.Contracts.RequestObjs.BookResponseObj]]] GetAllPostAsync()" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T17:11:43.6116482+01:00 800000db-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T17:11:43.8160873+01:00 800000db-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title], [b0].[CheckOutActivityId], [b0].[BookId], [b0].[CheckOutDate], [b0].[Email], [b0].[ExpectedReturnDate], [b0].[FullName], [b0].[NationalIdentificationNumber], [b0].[PhoneNumber], [b0].[ReturnDate], [b0].[Status], [b0].[UserId]
FROM [Books] AS [b]
LEFT JOIN [BookActivities] AS [b0] ON [b].[BookId] = [b0].[BookId]
ORDER BY [b].[BookId], [b0].[CheckOutActivityId]" (65d11854)
2020-04-16T17:11:44.2364385+01:00 800000db-0000-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Libraryhub.Contracts.RequestObjs.BookResponseObj, Libraryhub.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2020-04-16T17:11:44.3124519+01:00 800000db-0000-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)" in 1660.0249000000001ms (afa2e885)
2020-04-16T17:11:44.3209882+01:00 800000db-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (99874f2b)
2020-04-16T17:11:44.3465642+01:00 800000db-0000-fe00-b63f-84710c7967bb [INF] Request finished in 1892.1812ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T17:13:14.8383044+01:00 8000008d-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T17:13:14.8876431+01:00 8000008d-0001-fc00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T17:13:14.9498418+01:00 8000008d-0001-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T17:13:15.2141687+01:00 8000008d-0001-fc00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T17:13:15.2390011+01:00 8000008d-0001-fc00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:13:15.3007952+01:00 8000008d-0001-fc00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T17:13:15.3555450+01:00 8000008d-0001-fc00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:13:15.9099569+01:00 8000008d-0001-fc00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 12), @p6='?' (Size = 12), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookActivities] ([BookId], [CheckOutDate], [Email], [ExpectedReturnDate], [FullName], [NationalIdentificationNumber], [PhoneNumber], [ReturnDate], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CheckOutActivityId]
FROM [BookActivities]
WHERE @@ROWCOUNT = 1 AND [CheckOutActivityId] = scope_identity();" (65d11854)
2020-04-16T17:13:16.0442193+01:00 8000008d-0001-fc00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [Quantity] = @p0
WHERE [BookId] = @p1;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T17:13:51.1958534+01:00 8000008d-0001-fc00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 36048.3735ms (afa2e885)
2020-04-16T17:13:51.2090902+01:00 8000008d-0001-fc00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T17:13:51.8212142+01:00 8000008d-0001-fc00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Libraryhub.Controllers.V1.BookController.CheckOutBook(AddCheckOutActivityRequestObj requestObj) in C:\Apps\Libraryhub\Libraryhub\Controllers\V1\BookController.cs:line 176
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T17:13:51.9499373+01:00 8000008d-0001-fc00-b63f-84710c7967bb [INF] Request finished in 37060.5513ms 404  (791a596a)
2020-04-16T17:16:03.9387667+01:00 8000008f-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T17:16:03.9917615+01:00 8000008f-0001-fc00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T17:16:04.0408400+01:00 8000008f-0001-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T17:16:04.1079411+01:00 8000008f-0001-fc00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T17:16:04.3874292+01:00 8000008f-0001-fc00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:16:04.4178019+01:00 8000008f-0001-fc00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T17:16:04.4271947+01:00 8000008f-0001-fc00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:16:04.4389806+01:00 8000008f-0001-fc00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 12), @p6='?' (Size = 12), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookActivities] ([BookId], [CheckOutDate], [Email], [ExpectedReturnDate], [FullName], [NationalIdentificationNumber], [PhoneNumber], [ReturnDate], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CheckOutActivityId]
FROM [BookActivities]
WHERE @@ROWCOUNT = 1 AND [CheckOutActivityId] = scope_identity();" (65d11854)
2020-04-16T17:16:04.4516231+01:00 8000008f-0001-fc00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [Quantity] = @p0
WHERE [BookId] = @p1;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T17:16:58.5148732+01:00 8000008f-0001-fc00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 54446.938700000006ms (afa2e885)
2020-04-16T17:16:58.5233455+01:00 8000008f-0001-fc00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T17:16:58.6074170+01:00 8000008f-0001-fc00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Libraryhub.Controllers.V1.BookController.CheckOutBook(AddCheckOutActivityRequestObj requestObj)
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T17:16:58.6609576+01:00 8000008f-0001-fc00-b63f-84710c7967bb [INF] Request finished in 54761.7048ms 404  (791a596a)
2020-04-16T17:18:59.7844003+01:00 800000dd-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T17:18:59.7930645+01:00 800000dd-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T17:18:59.8028896+01:00 800000dd-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T17:18:59.8374974+01:00 800000dd-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T17:18:59.8585360+01:00 800000dd-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:18:59.8890646+01:00 800000dd-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T17:18:59.9021278+01:00 800000dd-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:18:59.9272827+01:00 800000dd-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 12), @p6='?' (Size = 12), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookActivities] ([BookId], [CheckOutDate], [Email], [ExpectedReturnDate], [FullName], [NationalIdentificationNumber], [PhoneNumber], [ReturnDate], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CheckOutActivityId]
FROM [BookActivities]
WHERE @@ROWCOUNT = 1 AND [CheckOutActivityId] = scope_identity();" (65d11854)
2020-04-16T17:19:00.0408362+01:00 800000dd-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [Quantity] = @p0
WHERE [BookId] = @p1;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T17:19:24.1809773+01:00 800000dd-0000-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 24370.4149ms (afa2e885)
2020-04-16T17:19:24.1952969+01:00 800000dd-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T17:19:24.2099444+01:00 800000dd-0000-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Libraryhub.Controllers.V1.BookController.CheckOutBook(AddCheckOutActivityRequestObj requestObj)
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T17:19:24.2268914+01:00 800000dd-0000-fe00-b63f-84710c7967bb [INF] Request finished in 24503.8218ms 404  (791a596a)
2020-04-16T17:20:28.5560084+01:00 80000091-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T17:20:28.5818391+01:00 80000091-0001-fc00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T17:20:28.5910686+01:00 80000091-0001-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T17:20:28.6122402+01:00 80000091-0001-fc00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T17:20:28.6250069+01:00 80000091-0001-fc00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:20:28.6560779+01:00 80000091-0001-fc00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T17:20:28.6781803+01:00 80000091-0001-fc00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:20:28.6951926+01:00 80000091-0001-fc00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 12), @p6='?' (Size = 12), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookActivities] ([BookId], [CheckOutDate], [Email], [ExpectedReturnDate], [FullName], [NationalIdentificationNumber], [PhoneNumber], [ReturnDate], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CheckOutActivityId]
FROM [BookActivities]
WHERE @@ROWCOUNT = 1 AND [CheckOutActivityId] = scope_identity();" (65d11854)
2020-04-16T17:20:28.7126280+01:00 80000091-0001-fc00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [Quantity] = @p0
WHERE [BookId] = @p1;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T17:20:54.0842549+01:00 80000091-0001-fc00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 25480.304500000002ms (afa2e885)
2020-04-16T17:20:54.0926274+01:00 80000091-0001-fc00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T17:20:54.1084179+01:00 80000091-0001-fc00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Libraryhub.Controllers.V1.BookController.CheckOutBook(AddCheckOutActivityRequestObj requestObj)
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T17:20:54.1368388+01:00 80000091-0001-fc00-b63f-84710c7967bb [INF] Request finished in 25570.6669ms 404  (791a596a)
2020-04-16T17:21:11.5202017+01:00 800000df-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T17:21:11.6464379+01:00 800000df-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T17:21:11.7719655+01:00 800000df-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T17:26:21.7724843+01:00 800000df-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T17:26:21.8044478+01:00 800000df-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:27:02.4915271+01:00 800000df-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T17:27:37.7864847+01:00 800000df-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:27:53.6091674+01:00 800000df-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 12), @p6='?' (Size = 12), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookActivities] ([BookId], [CheckOutDate], [Email], [ExpectedReturnDate], [FullName], [NationalIdentificationNumber], [PhoneNumber], [ReturnDate], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CheckOutActivityId]
FROM [BookActivities]
WHERE @@ROWCOUNT = 1 AND [CheckOutActivityId] = scope_identity();" (65d11854)
2020-04-16T17:27:54.1519388+01:00 800000df-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [IsAvailable] = @p0, [Quantity] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T17:33:00.3271078+01:00 800000df-0000-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 708519.0427ms (afa2e885)
2020-04-16T17:33:00.8866201+01:00 800000df-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T17:33:02.2879227+01:00 800000df-0000-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Libraryhub.Controllers.V1.BookController.CheckOutBook(AddCheckOutActivityRequestObj requestObj)
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T17:33:03.9649619+01:00 800000df-0000-fe00-b63f-84710c7967bb [INF] Request finished in 710866.0518ms 404  (791a596a)
2020-04-16T17:33:18.9526824+01:00 80000093-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T17:33:18.9880999+01:00 80000093-0001-fc00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T17:33:19.0029111+01:00 80000093-0001-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T17:33:19.0230631+01:00 80000093-0001-fc00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T17:33:20.0289252+01:00 80000093-0001-fc00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:33:33.9823348+01:00 80000093-0001-fc00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.RegBookResponseObj"'. (8a1b66c8)
2020-04-16T17:33:34.0293960+01:00 80000093-0001-fc00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 14997.457ms (afa2e885)
2020-04-16T17:33:34.0500209+01:00 80000093-0001-fc00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T17:33:34.0638311+01:00 80000093-0001-fc00-b63f-84710c7967bb [INF] Request finished in 15108.2517ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T17:33:46.6730664+01:00 800000e1-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T17:33:46.6891186+01:00 800000e1-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T17:33:46.7011812+01:00 800000e1-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T17:33:46.7281265+01:00 800000e1-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T17:33:46.7412321+01:00 800000e1-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:33:56.7567395+01:00 800000e1-0000-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.RegBookResponseObj"'. (8a1b66c8)
2020-04-16T17:33:57.3152832+01:00 800000e1-0000-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 10093.1749ms (afa2e885)
2020-04-16T17:33:57.5573860+01:00 800000e1-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T17:33:58.0847056+01:00 800000e1-0000-fe00-b63f-84710c7967bb [INF] Request finished in 10937.0041ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T17:34:51.8371139+01:00 80000095-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T17:34:51.8684560+01:00 80000095-0001-fc00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T17:34:51.8782228+01:00 80000095-0001-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T17:34:51.8992149+01:00 80000095-0001-fc00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T17:34:51.9069371+01:00 80000095-0001-fc00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:34:51.9240278+01:00 80000095-0001-fc00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T17:34:51.9358357+01:00 80000095-0001-fc00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:34:51.9503978+01:00 80000095-0001-fc00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 12), @p6='?' (Size = 12), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookActivities] ([BookId], [CheckOutDate], [Email], [ExpectedReturnDate], [FullName], [NationalIdentificationNumber], [PhoneNumber], [ReturnDate], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CheckOutActivityId]
FROM [BookActivities]
WHERE @@ROWCOUNT = 1 AND [CheckOutActivityId] = scope_identity();" (65d11854)
2020-04-16T17:34:51.9666063+01:00 80000095-0001-fc00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [Quantity] = @p0
WHERE [BookId] = @p1;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T17:36:48.0912717+01:00 80000095-0001-fc00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 116179.50570000001ms (afa2e885)
2020-04-16T17:36:48.1273583+01:00 80000095-0001-fc00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T17:36:48.1707458+01:00 80000095-0001-fc00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Libraryhub.Controllers.V1.BookController.CheckOutBook(AddCheckOutActivityRequestObj requestObj)
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T17:36:48.2034865+01:00 80000095-0001-fc00-b63f-84710c7967bb [INF] Request finished in 116351.9658ms 404  (791a596a)
2020-04-16T17:54:54.8455839+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T17:55:06.0807435+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T17:55:06.1008231+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T17:55:06.6218677+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T17:55:09.5169310+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T17:55:12.1171095+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T17:55:12.6057301+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-16T17:55:13.5597540+01:00  [INF] Queued Hosted Service is starting. (cb05eba7)
2020-04-16T17:55:14.6377963+01:00 800000b7-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/   (ca22a1cb)
2020-04-16T17:55:21.1095277+01:00 800000b7-0001-fe00-b63f-84710c7967bb [INF] Request finished in 5438.2ms 404  (791a596a)
2020-04-16T17:55:31.1447424+01:00 800000b9-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T17:55:32.9120234+01:00 800000b9-0001-fe00-b63f-84710c7967bb [INF] Request finished in 1781.7042000000001ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T17:55:34.0541504+01:00 800000fe-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/v1/swagger.json   (ca22a1cb)
2020-04-16T17:55:34.6588942+01:00 800000fe-0000-ff00-b63f-84710c7967bb [INF] Request finished in 511.7432ms 200 application/json;charset=utf-8 (791a596a)
2020-04-16T17:57:15.6261218+01:00 80000100-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/api/v1/book/LoadAllBooks   (ca22a1cb)
2020-04-16T17:57:15.6487299+01:00 80000100-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (500cc934)
2020-04-16T17:57:15.8793360+01:00 80000100-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllPost\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IList`1[Libraryhub.Contracts.RequestObjs.BookResponseObj]]] GetAllPostAsync()" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T17:57:17.3189658+01:00 80000100-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T17:57:17.6309119+01:00 80000100-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title], [b0].[CheckOutActivityId], [b0].[BookId], [b0].[CheckOutDate], [b0].[Email], [b0].[ExpectedReturnDate], [b0].[FullName], [b0].[NationalIdentificationNumber], [b0].[PhoneNumber], [b0].[ReturnDate], [b0].[Status], [b0].[UserId]
FROM [Books] AS [b]
LEFT JOIN [BookActivities] AS [b0] ON [b].[BookId] = [b0].[BookId]
ORDER BY [b].[BookId], [b0].[CheckOutActivityId]" (65d11854)
2020-04-16T17:57:20.6500152+01:00 80000100-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Libraryhub.Contracts.RequestObjs.BookResponseObj, Libraryhub.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2020-04-16T17:57:22.6712867+01:00 80000100-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)" in 5056.8477ms (afa2e885)
2020-04-16T17:57:23.4996085+01:00 80000100-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (99874f2b)
2020-04-16T17:57:24.1464344+01:00 80000100-0000-ff00-b63f-84710c7967bb [INF] Request finished in 7982.3262ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T17:58:06.9294281+01:00 80000102-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T17:58:07.0321218+01:00 80000102-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T17:58:07.2334883+01:00 80000102-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T17:58:08.3517023+01:00 80000102-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T17:58:08.5058854+01:00 80000102-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:58:08.6582509+01:00 80000102-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T17:58:08.7710059+01:00 80000102-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T17:58:13.0059915+01:00 80000102-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 12), @p6='?' (Size = 12), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookActivities] ([BookId], [CheckOutDate], [Email], [ExpectedReturnDate], [FullName], [NationalIdentificationNumber], [PhoneNumber], [ReturnDate], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CheckOutActivityId]
FROM [BookActivities]
WHERE @@ROWCOUNT = 1 AND [CheckOutActivityId] = scope_identity();" (65d11854)
2020-04-16T17:58:13.4959105+01:00 80000102-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [Quantity] = @p0
WHERE [BookId] = @p1;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T17:58:41.1992883+01:00 80000102-0000-ff00-b63f-84710c7967bb [INF] EmailService XM2P (010bc9e6)
2020-04-16T17:59:02.8598428+01:00 80000102-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 55593.3706ms (afa2e885)
2020-04-16T17:59:02.9610338+01:00 80000102-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T17:59:05.2225094+01:00 80000102-0000-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Libraryhub.Controllers.V1.BookController.CheckOutBook(AddCheckOutActivityRequestObj requestObj) in C:\Apps\Libraryhub\Libraryhub\Controllers\V1\BookController.cs:line 176
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T17:59:05.8398705+01:00 80000102-0000-ff00-b63f-84710c7967bb [INF] Request finished in 59042.502400000005ms 404  (791a596a)
2020-04-16T18:00:16.6376875+01:00 80000104-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T18:00:16.7231404+01:00 80000104-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T18:00:16.7565505+01:00 80000104-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T18:00:16.8360838+01:00 80000104-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T18:00:16.9692854+01:00 80000104-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T18:00:17.0526543+01:00 80000104-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T18:00:17.0618769+01:00 80000104-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T18:00:17.0772437+01:00 80000104-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 12), @p6='?' (Size = 12), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookActivities] ([BookId], [CheckOutDate], [Email], [ExpectedReturnDate], [FullName], [NationalIdentificationNumber], [PhoneNumber], [ReturnDate], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CheckOutActivityId]
FROM [BookActivities]
WHERE @@ROWCOUNT = 1 AND [CheckOutActivityId] = scope_identity();" (65d11854)
2020-04-16T18:00:17.0951219+01:00 80000104-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [Quantity] = @p0
WHERE [BookId] = @p1;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T18:00:28.6857513+01:00 80000104-0000-ff00-b63f-84710c7967bb [INF] EmailService NDAN (698d750e)
2020-04-16T18:00:36.0976009+01:00 80000104-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 19106.2694ms (afa2e885)
2020-04-16T18:00:37.4383392+01:00 80000104-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T18:00:37.8750184+01:00 80000104-0000-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Libraryhub.Controllers.V1.BookController.CheckOutBook(AddCheckOutActivityRequestObj requestObj) in C:\Apps\Libraryhub\Libraryhub\Controllers\V1\BookController.cs:line 176
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T18:00:38.2637947+01:00 80000104-0000-ff00-b63f-84710c7967bb [INF] Request finished in 21489.886700000003ms 404  (791a596a)
2020-04-16T18:05:05.3794649+01:00 80000106-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T18:05:05.4202880+01:00 80000106-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T18:05:05.4679552+01:00 80000106-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T18:05:07.3632215+01:00 80000106-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T18:05:09.4836660+01:00 80000106-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T18:05:09.5201266+01:00 80000106-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T18:05:09.5661349+01:00 80000106-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T18:05:09.6216251+01:00 80000106-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 12), @p6='?' (Size = 12), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookActivities] ([BookId], [CheckOutDate], [Email], [ExpectedReturnDate], [FullName], [NationalIdentificationNumber], [PhoneNumber], [ReturnDate], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CheckOutActivityId]
FROM [BookActivities]
WHERE @@ROWCOUNT = 1 AND [CheckOutActivityId] = scope_identity();" (65d11854)
2020-04-16T18:05:09.6794712+01:00 80000106-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [Quantity] = @p0
WHERE [BookId] = @p1;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T18:05:33.4738487+01:00 80000106-0000-ff00-b63f-84710c7967bb [INF] EmailService D1PF (38e3153c)
2020-04-16T18:05:43.3513618+01:00 80000106-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 37801.9084ms (afa2e885)
2020-04-16T18:05:43.5221056+01:00 80000106-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T18:05:43.9319940+01:00 80000106-0000-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Libraryhub.Controllers.V1.BookController.CheckOutBook(AddCheckOutActivityRequestObj requestObj)
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T18:05:44.0566570+01:00 80000106-0000-ff00-b63f-84710c7967bb [INF] Request finished in 38777.774300000005ms 404  (791a596a)
2020-04-16T18:12:29.8690438+01:00 800000bb-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T18:12:32.2213902+01:00 800000bb-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T18:12:33.0931523+01:00 800000bb-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T18:12:37.4315575+01:00 800000bb-0001-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T18:12:38.4565281+01:00 800000bb-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T18:12:38.4727668+01:00 800000bb-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T18:12:38.4818755+01:00 800000bb-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T18:12:38.5033247+01:00 800000bb-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 12), @p6='?' (Size = 12), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookActivities] ([BookId], [CheckOutDate], [Email], [ExpectedReturnDate], [FullName], [NationalIdentificationNumber], [PhoneNumber], [ReturnDate], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CheckOutActivityId]
FROM [BookActivities]
WHERE @@ROWCOUNT = 1 AND [CheckOutActivityId] = scope_identity();" (65d11854)
2020-04-16T18:12:38.5181752+01:00 800000bb-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [Quantity] = @p0
WHERE [BookId] = @p1;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T18:12:54.7986001+01:00 800000bb-0001-fe00-b63f-84710c7967bb [INF] EmailService K3VF (d8a24792)
2020-04-16T18:13:07.5856398+01:00 800000bb-0001-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 34458.2054ms (afa2e885)
2020-04-16T18:13:07.6185849+01:00 800000bb-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T18:13:07.6634964+01:00 800000bb-0001-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Libraryhub.Controllers.V1.BookController.CheckOutBook(AddCheckOutActivityRequestObj requestObj)
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T18:13:07.7051293+01:00 800000bb-0001-fe00-b63f-84710c7967bb [INF] Request finished in 38862.0137ms 404  (791a596a)
2020-04-16T18:20:01.3014078+01:00 800000bd-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T18:20:01.5086920+01:00 800000bd-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T18:20:01.5460660+01:00 800000bd-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T18:21:44.3916064+01:00 800000bd-0001-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T18:21:46.4885106+01:00 800000bd-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T18:21:47.8078085+01:00 800000bd-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T18:21:49.4294741+01:00 800000bd-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T18:21:52.3002596+01:00 800000bd-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 12), @p6='?' (Size = 12), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookActivities] ([BookId], [CheckOutDate], [Email], [ExpectedReturnDate], [FullName], [NationalIdentificationNumber], [PhoneNumber], [ReturnDate], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CheckOutActivityId]
FROM [BookActivities]
WHERE @@ROWCOUNT = 1 AND [CheckOutActivityId] = scope_identity();" (65d11854)
2020-04-16T18:21:52.9520745+01:00 800000bd-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [Quantity] = @p0
WHERE [BookId] = @p1;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T18:22:07.0359430+01:00 800000bd-0001-fe00-b63f-84710c7967bb [INF] EmailService AV1L (f9daf3e3)
2020-04-16T18:22:18.7712937+01:00 800000bd-0001-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 135275.5987ms (afa2e885)
2020-04-16T18:22:19.6188918+01:00 800000bd-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T18:22:20.9557497+01:00 800000bd-0001-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Libraryhub.Controllers.V1.BookController.CheckOutBook(AddCheckOutActivityRequestObj requestObj)
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T18:22:21.1807333+01:00 800000bd-0001-fe00-b63f-84710c7967bb [INF] Request finished in 139805.7809ms 404  (791a596a)
2020-04-16T18:30:18.5108809+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T18:30:23.6264035+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T18:30:23.9245685+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T18:30:25.0893133+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T18:30:33.6062554+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T18:30:34.0792167+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T18:30:34.1570583+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-16T18:30:34.5829825+01:00  [INF] Queued Hosted Service is starting. (cb05eba7)
2020-04-16T18:30:34.8103570+01:00 80000108-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/   (ca22a1cb)
2020-04-16T18:30:35.6437611+01:00 80000108-0000-ff00-b63f-84710c7967bb [INF] Request finished in 746.3743000000001ms 404  (791a596a)
2020-04-16T18:31:16.7561060+01:00 8000010a-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T18:31:18.1242686+01:00 8000010a-0000-ff00-b63f-84710c7967bb [INF] Request finished in 1159.0352ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T18:31:20.3420124+01:00 800000bf-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/v1/swagger.json   (ca22a1cb)
2020-04-16T18:31:20.9309718+01:00 800000bf-0001-fe00-b63f-84710c7967bb [INF] Request finished in 768.5341000000001ms 200 application/json;charset=utf-8 (791a596a)
2020-04-16T18:31:42.2759362+01:00 8000010c-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/api/v1/book/LoadAllBooks   (ca22a1cb)
2020-04-16T18:31:42.4477954+01:00 8000010c-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (500cc934)
2020-04-16T18:31:42.5851452+01:00 8000010c-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllPost\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IList`1[Libraryhub.Contracts.RequestObjs.BookResponseObj]]] GetAllPostAsync()" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T18:31:54.0020785+01:00 8000010c-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T18:31:55.3978646+01:00 8000010c-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title], [b0].[CheckOutActivityId], [b0].[BookId], [b0].[CheckOutDate], [b0].[Email], [b0].[ExpectedReturnDate], [b0].[FullName], [b0].[NationalIdentificationNumber], [b0].[PhoneNumber], [b0].[ReturnDate], [b0].[Status], [b0].[UserId]
FROM [Books] AS [b]
LEFT JOIN [BookActivities] AS [b0] ON [b].[BookId] = [b0].[BookId]
ORDER BY [b].[BookId], [b0].[CheckOutActivityId]" (65d11854)
2020-04-16T18:31:58.4248738+01:00 8000010c-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Libraryhub.Contracts.RequestObjs.BookResponseObj, Libraryhub.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2020-04-16T18:31:58.5323987+01:00 8000010c-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)" in 15895.163100000002ms (afa2e885)
2020-04-16T18:31:58.5463945+01:00 8000010c-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (99874f2b)
2020-04-16T18:31:58.5690007+01:00 8000010c-0000-ff00-b63f-84710c7967bb [INF] Request finished in 17524.445900000002ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T18:32:48.9573152+01:00 800000c1-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T18:32:48.9769032+01:00 800000c1-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T18:32:49.0250989+01:00 800000c1-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T18:33:13.6970293+01:00 800000c1-0001-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T18:33:13.7422580+01:00 800000c1-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T18:33:13.8137206+01:00 800000c1-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T18:33:13.8486726+01:00 800000c1-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T18:33:14.7514213+01:00 800000c1-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 12), @p6='?' (Size = 12), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookActivities] ([BookId], [CheckOutDate], [Email], [ExpectedReturnDate], [FullName], [NationalIdentificationNumber], [PhoneNumber], [ReturnDate], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CheckOutActivityId]
FROM [BookActivities]
WHERE @@ROWCOUNT = 1 AND [CheckOutActivityId] = scope_identity();" (65d11854)
2020-04-16T18:33:14.9251955+01:00 800000c1-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [Quantity] = @p0
WHERE [BookId] = @p1;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T18:33:35.0401719+01:00 800000c1-0001-fe00-b63f-84710c7967bb [INF] EmailService H7XP (36b99c8e)
2020-04-16T18:33:41.8558512+01:00 800000c1-0001-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 52815.371ms (afa2e885)
2020-04-16T18:33:41.8699843+01:00 800000c1-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T18:33:42.0888636+01:00 800000c1-0001-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Libraryhub.Controllers.V1.BookController.CheckOutBook(AddCheckOutActivityRequestObj requestObj) in C:\Apps\Libraryhub\Libraryhub\Controllers\V1\BookController.cs:line 176
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T18:33:42.2037949+01:00 800000c1-0001-fe00-b63f-84710c7967bb [INF] Request finished in 53298.7755ms 404  (791a596a)
2020-04-16T18:34:21.1155513+01:00 8000010e-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T18:34:21.1514177+01:00 8000010e-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T18:34:21.1624955+01:00 8000010e-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T18:34:33.5072094+01:00 8000010e-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T18:34:34.8502163+01:00 8000010e-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T18:34:34.9655417+01:00 8000010e-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T18:34:35.1016274+01:00 8000010e-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T18:34:35.2221646+01:00 8000010e-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 12), @p6='?' (Size = 12), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookActivities] ([BookId], [CheckOutDate], [Email], [ExpectedReturnDate], [FullName], [NationalIdentificationNumber], [PhoneNumber], [ReturnDate], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CheckOutActivityId]
FROM [BookActivities]
WHERE @@ROWCOUNT = 1 AND [CheckOutActivityId] = scope_identity();" (65d11854)
2020-04-16T18:34:35.2801078+01:00 8000010e-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [Quantity] = @p0
WHERE [BookId] = @p1;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T18:34:51.3529969+01:00 8000010e-0000-ff00-b63f-84710c7967bb [INF] EmailService NX5Y (686c5770)
2020-04-16T18:34:58.4378111+01:00 8000010e-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 37263.973300000005ms (afa2e885)
2020-04-16T18:34:58.4596275+01:00 8000010e-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T18:34:58.4870350+01:00 8000010e-0000-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Libraryhub.Controllers.V1.BookController.CheckOutBook(AddCheckOutActivityRequestObj requestObj)
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T18:34:58.5375775+01:00 8000010e-0000-ff00-b63f-84710c7967bb [INF] Request finished in 37463.8591ms 404  (791a596a)
2020-04-16T22:18:35.8645079+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T22:18:41.9581550+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T22:18:41.9633454+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T22:18:42.2407575+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T22:18:53.1555925+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T22:18:53.7538186+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T22:18:53.8876184+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-16T22:18:55.3299167+01:00  [INF] Queued Hosted Service is starting. (cb05eba7)
2020-04-16T22:18:56.2931706+01:00 80000012-0001-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T22:18:56.8514861+01:00 80000097-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/   (ca22a1cb)
2020-04-16T22:18:57.2542607+01:00 800000e5-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T22:18:59.7341799+01:00 800000e5-0000-fe00-b63f-84710c7967bb [INF] Request finished in 3701.3322000000003ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T22:18:59.7341799+01:00 80000012-0001-fd00-b63f-84710c7967bb [INF] Request finished in 3732.0025ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T22:19:01.2925388+01:00 80000097-0001-fc00-b63f-84710c7967bb [INF] Request finished in 4936.0029ms 0  (791a596a)
2020-04-16T22:19:01.4475421+01:00 800000e7-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/v1/swagger.json   (ca22a1cb)
2020-04-16T22:19:02.0383684+01:00 800000e7-0000-fe00-b63f-84710c7967bb [INF] Request finished in 607.5731000000001ms 200 application/json;charset=utf-8 (791a596a)
2020-04-16T22:22:04.9962615+01:00 80000014-0001-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/api/v1/book/LoadAllBooks   (ca22a1cb)
2020-04-16T22:22:05.0325767+01:00 80000014-0001-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (500cc934)
2020-04-16T22:22:05.2503289+01:00 80000014-0001-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllPost\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IList`1[Libraryhub.Contracts.RequestObjs.BookResponseObj]]] GetAllPostAsync()" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T22:22:16.2004443+01:00 80000014-0001-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T22:22:16.3404426+01:00 80000014-0001-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title], [b0].[CheckOutActivityId], [b0].[BookId], [b0].[CheckOutDate], [b0].[Email], [b0].[ExpectedReturnDate], [b0].[FullName], [b0].[NationalIdentificationNumber], [b0].[PhoneNumber], [b0].[ReturnDate], [b0].[Status], [b0].[UserId]
FROM [Books] AS [b]
LEFT JOIN [BookActivities] AS [b0] ON [b].[BookId] = [b0].[BookId]
ORDER BY [b].[BookId], [b0].[CheckOutActivityId]" (65d11854)
2020-04-16T22:22:16.7170160+01:00 80000014-0001-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Libraryhub.Contracts.RequestObjs.BookResponseObj, Libraryhub.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2020-04-16T22:22:16.7982595+01:00 80000014-0001-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)" in 11526.405700000001ms (afa2e885)
2020-04-16T22:22:16.8067323+01:00 80000014-0001-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (99874f2b)
2020-04-16T22:22:16.8218286+01:00 80000014-0001-fd00-b63f-84710c7967bb [INF] Request finished in 11856.214ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T22:22:40.3786691+01:00 800000e9-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T22:22:40.4101955+01:00 800000e9-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T22:22:40.4536571+01:00 800000e9-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T22:23:04.9729476+01:00 800000e9-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T22:23:04.9937400+01:00 800000e9-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T22:23:05.0478008+01:00 800000e9-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T22:23:05.0649311+01:00 800000e9-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T22:23:05.6167141+01:00 800000e9-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 12), @p6='?' (Size = 12), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookActivities] ([BookId], [CheckOutDate], [Email], [ExpectedReturnDate], [FullName], [NationalIdentificationNumber], [PhoneNumber], [ReturnDate], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CheckOutActivityId]
FROM [BookActivities]
WHERE @@ROWCOUNT = 1 AND [CheckOutActivityId] = scope_identity();" (65d11854)
2020-04-16T22:23:05.6891041+01:00 800000e9-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [Quantity] = @p0
WHERE [BookId] = @p1;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-16T22:23:26.7912454+01:00 800000e9-0000-fe00-b63f-84710c7967bb [INF] EmailService X9A4 (5ec3c4c6)
2020-04-16T22:23:27.7519200+01:00 800000e9-0000-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 47283.0415ms (afa2e885)
2020-04-16T22:23:27.8689075+01:00 800000e9-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T22:23:28.5741752+01:00 800000e9-0000-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Libraryhub.Controllers.V1.BookController.CheckOutBook(AddCheckOutActivityRequestObj requestObj) in C:\Apps\Libraryhub\Libraryhub\Controllers\V1\BookController.cs:line 176
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-16T22:23:28.6581338+01:00 800000e9-0000-fe00-b63f-84710c7967bb [INF] Request finished in 48306.424900000005ms 404  (791a596a)
2020-04-16T22:49:41.5434610+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-16T22:49:47.3841245+01:00  [WRN] No type was specified for the decimal column '"CoverPrice"' on entity type '"Book"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T22:49:47.3890186+01:00  [WRN] No type was specified for the decimal column '"PenaltyFee"' on entity type '"BookPenalty"'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. (3a0db05f)
2020-04-16T22:49:47.5201327+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T22:49:57.3413966+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T22:49:57.8818295+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-16T22:49:58.1056273+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-16T22:49:58.9779850+01:00  [INF] Queued Hosted Service is starting. (cb05eba7)
2020-04-16T22:49:59.2345282+01:00 80000110-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/   (ca22a1cb)
2020-04-16T22:49:59.2345282+01:00 80000112-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T22:50:01.5456476+01:00 800000c4-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/index.html   (ca22a1cb)
2020-04-16T22:50:03.4156681+01:00 80000112-0000-ff00-b63f-84710c7967bb [INF] Request finished in 4213.639ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T22:50:03.4491049+01:00 80000110-0000-ff00-b63f-84710c7967bb [INF] Request finished in 4251.6961ms 0  (791a596a)
2020-04-16T22:50:03.5053825+01:00 800000c4-0001-fe00-b63f-84710c7967bb [INF] Request finished in 3636.815ms 200 text/html;charset=utf-8 (791a596a)
2020-04-16T22:50:05.2445381+01:00 80000114-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/swagger/v1/swagger.json   (ca22a1cb)
2020-04-16T22:50:06.9871104+01:00 80000114-0000-ff00-b63f-84710c7967bb [INF] Request finished in 1655.8664ms 200 application/json;charset=utf-8 (791a596a)
2020-04-16T22:50:25.2393981+01:00 80000116-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44382/api/v1/book/LoadAllBooks   (ca22a1cb)
2020-04-16T22:50:25.2850201+01:00 80000116-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (500cc934)
2020-04-16T22:50:25.9994082+01:00 80000116-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetAllPost\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IList`1[Libraryhub.Contracts.RequestObjs.BookResponseObj]]] GetAllPostAsync()" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T22:50:27.6743740+01:00 80000116-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T22:50:28.0076584+01:00 80000116-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title], [b0].[CheckOutActivityId], [b0].[BookId], [b0].[CheckOutDate], [b0].[Email], [b0].[ExpectedReturnDate], [b0].[FullName], [b0].[NationalIdentificationNumber], [b0].[PhoneNumber], [b0].[ReturnDate], [b0].[Status], [b0].[UserId]
FROM [Books] AS [b]
LEFT JOIN [BookActivities] AS [b0] ON [b].[BookId] = [b0].[BookId]
ORDER BY [b].[BookId], [b0].[CheckOutActivityId]" (65d11854)
2020-04-16T22:50:28.4930555+01:00 80000116-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Libraryhub.Contracts.RequestObjs.BookResponseObj, Libraryhub.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2020-04-16T22:50:28.6378742+01:00 80000116-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)" in 2554.1020000000003ms (afa2e885)
2020-04-16T22:50:28.6587263+01:00 80000116-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.GetAllPostAsync (Libraryhub)"' (99874f2b)
2020-04-16T22:50:28.6791768+01:00 80000116-0000-ff00-b63f-84710c7967bb [INF] Request finished in 4145.8777ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T22:52:32.8565637+01:00 800000c6-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T22:52:35.2547738+01:00 800000c6-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T22:52:35.4073712+01:00 800000c6-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T22:52:35.7331671+01:00 800000c6-0001-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T22:52:35.7595204+01:00 800000c6-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T22:52:55.9170067+01:00 800000c6-0001-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.RegBookResponseObj"'. (8a1b66c8)
2020-04-16T22:52:56.3159190+01:00 800000c6-0001-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 20631.632100000003ms (afa2e885)
2020-04-16T22:52:56.3932718+01:00 800000c6-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T22:52:56.4086481+01:00 800000c6-0001-fe00-b63f-84710c7967bb [INF] Request finished in 23989.8696ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T22:53:27.9268493+01:00 800000c8-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T22:53:27.9647515+01:00 800000c8-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T22:53:27.9746471+01:00 800000c8-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T22:53:28.0214144+01:00 800000c8-0001-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T22:53:28.0612443+01:00 800000c8-0001-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T22:53:51.0714100+01:00 800000c8-0001-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Libraryhub.Contracts.RequestObjs.RegBookResponseObj"'. (8a1b66c8)
2020-04-16T22:53:51.1056263+01:00 800000c8-0001-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)" in 23098.2608ms (afa2e885)
2020-04-16T22:53:51.1865927+01:00 800000c8-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (99874f2b)
2020-04-16T22:53:51.2069214+01:00 800000c8-0001-fe00-b63f-84710c7967bb [INF] Request finished in 23328.843100000002ms 200 application/json; charset=utf-8 (791a596a)
2020-04-16T22:53:57.0870751+01:00 80000118-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44382/api/v1/book/CheckOutBooks application/json 60 (ca22a1cb)
2020-04-16T22:53:57.1040252+01:00 80000118-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.BookController.CheckOutBook (Libraryhub)"' (500cc934)
2020-04-16T22:53:57.1116546+01:00 80000118-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"CheckOutBook\", controller = \"Book\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Libraryhub.Contracts.RequestObjs.RegBookResponseObj]] CheckOutBook(Libraryhub.Contracts.RequestObjs.AddCheckOutActivityRequestObj)" on controller "Libraryhub.Controllers.V1.BookController" ("Libraryhub"). (122b2fdf)
2020-04-16T22:53:57.2410243+01:00 80000118-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-16T22:53:57.2557912+01:00 80000118-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T22:53:57.3462909+01:00 80000118-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NationalIdentificationNumber], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Id] = @__p_0) AND @__p_0 IS NOT NULL" (65d11854)
2020-04-16T22:53:57.4776116+01:00 80000118-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__bookId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [b].[BookId], [b].[CoverPrice], [b].[ISBN], [b].[InitialQuantity], [b].[IsAvailable], [b].[PublishYear], [b].[Quantity], [b].[Title]
FROM [Books] AS [b]
WHERE ([b].[BookId] = @__bookId_0) AND @__bookId_0 IS NOT NULL" (65d11854)
2020-04-16T22:53:58.3727187+01:00 80000118-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 12), @p6='?' (Size = 12), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [BookActivities] ([BookId], [CheckOutDate], [Email], [ExpectedReturnDate], [FullName], [NationalIdentificationNumber], [PhoneNumber], [ReturnDate], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CheckOutActivityId]
FROM [BookActivities]
WHERE @@ROWCOUNT = 1 AND [CheckOutActivityId] = scope_identity();" (65d11854)
2020-04-16T22:53:58.4757217+01:00 80000118-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Books] SET [Quantity] = @p0
WHERE [BookId] = @p1;
SELECT @@ROWCOUNT;" (65d11854)
